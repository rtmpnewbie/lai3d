<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Crazy Eddies GUI System: CEGUIString.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>CEGUIString.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/***********************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">        filename:       CEGUIString.h</span>
<a name="l00003"></a>00003 <span class="comment">        created:        26/2/2004</span>
<a name="l00004"></a>00004 <span class="comment">        author:         Paul D Turner</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">        purpose:        Defines string class used within the GUI system.</span>
<a name="l00007"></a>00007 <span class="comment">*************************************************************************/</span>
<a name="l00008"></a>00008 <span class="comment">/***************************************************************************</span>
<a name="l00009"></a>00009 <span class="comment"> *   Copyright (C) 2004 - 2006 Paul D Turner &amp; The CEGUI Development Team</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> *   Permission is hereby granted, free of charge, to any person obtaining</span>
<a name="l00012"></a>00012 <span class="comment"> *   a copy of this software and associated documentation files (the</span>
<a name="l00013"></a>00013 <span class="comment"> *   "Software"), to deal in the Software without restriction, including</span>
<a name="l00014"></a>00014 <span class="comment"> *   without limitation the rights to use, copy, modify, merge, publish,</span>
<a name="l00015"></a>00015 <span class="comment"> *   distribute, sublicense, and/or sell copies of the Software, and to</span>
<a name="l00016"></a>00016 <span class="comment"> *   permit persons to whom the Software is furnished to do so, subject to</span>
<a name="l00017"></a>00017 <span class="comment"> *   the following conditions:</span>
<a name="l00018"></a>00018 <span class="comment"> *</span>
<a name="l00019"></a>00019 <span class="comment"> *   The above copyright notice and this permission notice shall be</span>
<a name="l00020"></a>00020 <span class="comment"> *   included in all copies or substantial portions of the Software.</span>
<a name="l00021"></a>00021 <span class="comment"> *</span>
<a name="l00022"></a>00022 <span class="comment"> *   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,</span>
<a name="l00023"></a>00023 <span class="comment"> *   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF</span>
<a name="l00024"></a>00024 <span class="comment"> *   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.</span>
<a name="l00025"></a>00025 <span class="comment"> *   IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR</span>
<a name="l00026"></a>00026 <span class="comment"> *   OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,</span>
<a name="l00027"></a>00027 <span class="comment"> *   ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</span>
<a name="l00028"></a>00028 <span class="comment"> *   OTHER DEALINGS IN THE SOFTWARE.</span>
<a name="l00029"></a>00029 <span class="comment"> ***************************************************************************/</span>
<a name="l00030"></a>00030 <span class="preprocessor">#ifndef _CEGUIString_h_</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#define _CEGUIString_h_</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>
<a name="l00033"></a>00033 <span class="preprocessor">#include "CEGUIBase.h"</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;stdexcept&gt;</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 <span class="comment">// Start of CEGUI namespace section</span>
<a name="l00039"></a>00039 <span class="keyword">namespace </span>CEGUI
<a name="l00040"></a>00040 {
<a name="l00041"></a>00041 <span class="preprocessor">#define STR_QUICKBUFF_SIZE      32</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>        <span class="comment">/*************************************************************************</span>
<a name="l00043"></a>00043 <span class="comment">                Basic Types</span>
<a name="l00044"></a>00044 <span class="comment">        *************************************************************************/</span>
<a name="l00045"></a>00045         <span class="keyword">typedef</span>         uint8   utf8;
<a name="l00046"></a>00046         <span class="comment">//typedef               uint16  utf16;  // removed typedef to prevent usage, as utf16 is not supported (yet)</span>
<a name="l00047"></a>00047         <span class="keyword">typedef</span>         uint32  utf32;
<a name="l00048"></a>00048 
<a name="l00057"></a><a class="code" href="classCEGUI_1_1String.html">00057</a> <span class="keyword">class </span>CEGUIEXPORT <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>
<a name="l00058"></a>00058 {
<a name="l00059"></a>00059 <span class="keyword">public</span>:
<a name="l00060"></a>00060         <span class="comment">/*************************************************************************</span>
<a name="l00061"></a>00061 <span class="comment">                Integral Types</span>
<a name="l00062"></a>00062 <span class="comment">        *************************************************************************/</span>
<a name="l00063"></a><a class="code" href="classCEGUI_1_1String.html#4d090fe92a4c0dd1efa712c0033700d8">00063</a>         <span class="keyword">typedef</span>         utf32                   value_type;                                     
<a name="l00064"></a><a class="code" href="classCEGUI_1_1String.html#4fd79b6226fe39b69c6a6a624d2d2728">00064</a>         <span class="keyword">typedef</span>         <span class="keywordtype">size_t</span>                  size_type;                                      
<a name="l00065"></a><a class="code" href="classCEGUI_1_1String.html#0c1d24e8293ee41d342714b12281f20c">00065</a>         <span class="keyword">typedef</span>         ptrdiff_t               difference_type;                        
<a name="l00066"></a><a class="code" href="classCEGUI_1_1String.html#973cabd0497ebe26ae0bfe4fc2d903cb">00066</a>         <span class="keyword">typedef</span>         utf32&amp;                  reference;                                      
<a name="l00067"></a><a class="code" href="classCEGUI_1_1String.html#3b5b0764fbbd3fe98a0502180baf6465">00067</a>         <span class="keyword">typedef</span>         <span class="keyword">const</span> utf32&amp;    const_reference;                        
<a name="l00068"></a><a class="code" href="classCEGUI_1_1String.html#07f367af9f56506ed7fa473ff94498fc">00068</a>         <span class="keyword">typedef</span>         utf32*                  pointer;                                        
<a name="l00069"></a><a class="code" href="classCEGUI_1_1String.html#1c07bec6fb46273f88c42dd85c5e3f6d">00069</a>         <span class="keyword">typedef</span>         <span class="keyword">const</span> utf32*    const_pointer;                          
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="classCEGUI_1_1String.html#ffdd37fbbf25e2fc6a4fe48e2cf2202e">00071</a>         <span class="keyword">static</span> <span class="keyword">const</span> size_type          npos;                                           
<a name="l00072"></a>00072 
<a name="l00073"></a>00073 <span class="keyword">private</span>:
<a name="l00074"></a>00074         <span class="comment">/*************************************************************************</span>
<a name="l00075"></a>00075 <span class="comment">                Implementation data</span>
<a name="l00076"></a>00076 <span class="comment">        *************************************************************************/</span>
<a name="l00077"></a>00077         size_type       d_cplength;                     
<a name="l00078"></a>00078         size_type       d_reserve;                      
<a name="l00079"></a>00079 
<a name="l00080"></a>00080         <span class="keyword">mutable</span> utf8*           d_encodedbuff;          
<a name="l00081"></a>00081         <span class="keyword">mutable</span> size_type       d_encodeddatlen;        
<a name="l00082"></a>00082         <span class="keyword">mutable</span> size_type       d_encodedbufflen;       
<a name="l00083"></a>00083 
<a name="l00084"></a>00084         utf32           d_quickbuff[STR_QUICKBUFF_SIZE];        
<a name="l00085"></a>00085         utf32*          d_buffer;                                                       
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 <span class="keyword">public</span>:
<a name="l00088"></a>00088         <span class="comment">/*************************************************************************</span>
<a name="l00089"></a>00089 <span class="comment">                Iterator Classes</span>
<a name="l00090"></a>00090 <span class="comment">        *************************************************************************/</span>
<a name="l00095"></a>00095 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &lt;= 1200)</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>        <span class="keyword">class </span><a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> : <span class="keyword">public</span> std::<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>&lt;std::random_access_iterator_tag, utf32&gt;
<a name="l00097"></a>00097 #else
<a name="l00098"></a><a class="code" href="classCEGUI_1_1String_1_1const__iterator.html">00098</a>         class <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> : <span class="keyword">public</span> std::<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>&lt;std::random_access_iterator_tag, utf32, std::ptrdiff_t, const utf32*, const utf32&amp;&gt;
<a name="l00099"></a>00099 #endif
<a name="l00100"></a>00100         {
<a name="l00101"></a>00101 
<a name="l00102"></a>00102         <span class="keyword">public</span>:
<a name="l00104"></a>00104                 <span class="comment">// data</span>
<a name="l00106"></a>00106 <span class="comment"></span>                <span class="keyword">const</span> utf32*    d_ptr;
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 
<a name="l00110"></a>00110                 <span class="comment">// Methods</span>
<a name="l00112"></a>00112 <span class="comment"></span>                <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>(<span class="keywordtype">void</span>)
<a name="l00113"></a>00113                 {
<a name="l00114"></a>00114                         d_ptr = 0;
<a name="l00115"></a>00115                 }
<a name="l00116"></a>00116                 <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>(const_pointer ptr)
<a name="l00117"></a>00117                 {
<a name="l00118"></a>00118                         d_ptr = ptr;
<a name="l00119"></a>00119                 }
<a name="l00120"></a>00120 
<a name="l00121"></a>00121                 const_reference operator*()<span class="keyword"> const</span>
<a name="l00122"></a>00122 <span class="keyword">                </span>{
<a name="l00123"></a>00123                         <span class="keywordflow">return</span> *d_ptr;
<a name="l00124"></a>00124                 }
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &lt;= 1200)</span>
<a name="l00127"></a>00127 <span class="preprocessor"></span><span class="preprocessor">#       pragma warning (push)</span>
<a name="l00128"></a>00128 <span class="preprocessor"></span><span class="preprocessor">#       pragma warning (disable : 4284)</span>
<a name="l00129"></a>00129 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00130"></a>00130 <span class="preprocessor"></span>                const_pointer   operator-&gt;()<span class="keyword"> const</span>
<a name="l00131"></a>00131 <span class="keyword">                </span>{
<a name="l00132"></a>00132                         <span class="keywordflow">return</span> &amp;**<span class="keyword">this</span>;
<a name="l00133"></a>00133                 }
<a name="l00134"></a>00134 
<a name="l00135"></a>00135 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &lt;= 1200)</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span><span class="preprocessor">#       pragma warning (pop)</span>
<a name="l00137"></a>00137 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00138"></a>00138 <span class="preprocessor"></span>
<a name="l00139"></a>00139                 <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; operator++()
<a name="l00140"></a>00140                 {
<a name="l00141"></a>00141                         ++d_ptr;
<a name="l00142"></a>00142                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00143"></a>00143                 }
<a name="l00144"></a>00144 
<a name="l00145"></a>00145                 <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>  operator++(<span class="keywordtype">int</span>)
<a name="l00146"></a>00146                 {
<a name="l00147"></a>00147                         <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> temp = *<span class="keyword">this</span>;
<a name="l00148"></a>00148                         ++*<span class="keyword">this</span>;
<a name="l00149"></a>00149                         <span class="keywordflow">return</span> temp;
<a name="l00150"></a>00150                 }
<a name="l00151"></a>00151 
<a name="l00152"></a>00152                 <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; operator--()
<a name="l00153"></a>00153                 {
<a name="l00154"></a>00154                         --d_ptr;
<a name="l00155"></a>00155                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00156"></a>00156                 }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158                 <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>  operator--(<span class="keywordtype">int</span>)
<a name="l00159"></a>00159                 {
<a name="l00160"></a>00160                         <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> temp = *<span class="keyword">this</span>;
<a name="l00161"></a>00161                         --*<span class="keyword">this</span>;
<a name="l00162"></a>00162                         <span class="keywordflow">return</span> temp;
<a name="l00163"></a>00163                 }
<a name="l00164"></a>00164 
<a name="l00165"></a>00165                 <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; operator+=(difference_type offset)
<a name="l00166"></a>00166                 {
<a name="l00167"></a>00167                         d_ptr += offset;
<a name="l00168"></a>00168                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00169"></a>00169                 }
<a name="l00170"></a>00170 
<a name="l00171"></a>00171                 <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(difference_type offset)<span class="keyword"> const</span>
<a name="l00172"></a>00172 <span class="keyword">                </span>{
<a name="l00173"></a>00173                         <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> temp = *<span class="keyword">this</span>;
<a name="l00174"></a>00174                         <span class="keywordflow">return</span> temp += offset;
<a name="l00175"></a>00175                 }
<a name="l00176"></a>00176 
<a name="l00177"></a>00177                 <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; operator-=(difference_type offset)
<a name="l00178"></a>00178                 {
<a name="l00179"></a>00179                         <span class="keywordflow">return</span> *<span class="keyword">this</span> += -offset;
<a name="l00180"></a>00180                 }
<a name="l00181"></a>00181 
<a name="l00182"></a>00182                 <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> operator-(difference_type offset)<span class="keyword"> const</span>
<a name="l00183"></a>00183 <span class="keyword">                </span>{
<a name="l00184"></a>00184                         <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> temp = *<span class="keyword">this</span>;
<a name="l00185"></a>00185                         <span class="keywordflow">return</span> temp -= offset;
<a name="l00186"></a>00186                 }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188                 difference_type operator-(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l00189"></a>00189 <span class="keyword">                </span>{
<a name="l00190"></a>00190                         <span class="keywordflow">return</span> d_ptr - iter.<a class="code" href="classCEGUI_1_1String_1_1const__iterator.html#eef651b52c0ed3c2792b9ed8414a13c1">d_ptr</a>;
<a name="l00191"></a>00191                 }
<a name="l00192"></a>00192 
<a name="l00193"></a>00193                 const_reference operator[](difference_type offset)<span class="keyword"> const</span>
<a name="l00194"></a>00194 <span class="keyword">                </span>{
<a name="l00195"></a>00195                         <span class="keywordflow">return</span> *(*<span class="keyword">this</span> + offset);
<a name="l00196"></a>00196                 }
<a name="l00197"></a>00197 
<a name="l00198"></a>00198                 <span class="keywordtype">bool</span> <a class="code" href="namespaceCEGUI.html#259bd3158899725928832c2ac2e6ad5b" title="Return true if String str1 is equal to String str2.">operator==</a>(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l00199"></a>00199 <span class="keyword">                </span>{
<a name="l00200"></a>00200                         <span class="keywordflow">return</span> d_ptr == iter.<a class="code" href="classCEGUI_1_1String_1_1const__iterator.html#eef651b52c0ed3c2792b9ed8414a13c1">d_ptr</a>;
<a name="l00201"></a>00201                 }
<a name="l00202"></a>00202 
<a name="l00203"></a>00203                 <span class="keywordtype">bool</span> <a class="code" href="namespaceCEGUI.html#0b5613ffc8a911c27cfb78df377b6fbb" title="Return true if String str1 is not equal to String str2.">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l00204"></a>00204 <span class="keyword">                </span>{
<a name="l00205"></a>00205                         <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == iter);
<a name="l00206"></a>00206                 }
<a name="l00207"></a>00207 
<a name="l00208"></a>00208                 <span class="keywordtype">bool</span> <a class="code" href="namespaceCEGUI.html#770b5e27a384122e05d0d1e75afef26e" title="Return true if String str1 is lexicographically less than String str2.">operator&lt;</a>(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l00209"></a>00209 <span class="keyword">                </span>{
<a name="l00210"></a>00210                         <span class="keywordflow">return</span> d_ptr &lt; iter.<a class="code" href="classCEGUI_1_1String_1_1const__iterator.html#eef651b52c0ed3c2792b9ed8414a13c1">d_ptr</a>;
<a name="l00211"></a>00211                 }
<a name="l00212"></a>00212 
<a name="l00213"></a>00213                 <span class="keywordtype">bool</span> <a class="code" href="namespaceCEGUI.html#7501a7f6c1fab8806a0ff65ee1b4fa7d" title="Return true if String str1 is lexicographically greater than String str2.">operator&gt;</a>(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l00214"></a>00214 <span class="keyword">                </span>{
<a name="l00215"></a>00215                         <span class="keywordflow">return</span> (!(iter &lt; *<span class="keyword">this</span>));
<a name="l00216"></a>00216                 }
<a name="l00217"></a>00217 
<a name="l00218"></a>00218                 <span class="keywordtype">bool</span> <a class="code" href="namespaceCEGUI.html#2dc0aa5badfd7b9a32885652c6ffd396" title="Return true if String str1 is lexicographically less than or equal to String str2...">operator&lt;=</a>(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l00219"></a>00219 <span class="keyword">                </span>{
<a name="l00220"></a>00220                         <span class="keywordflow">return</span> (!(iter &lt; *<span class="keyword">this</span>));
<a name="l00221"></a>00221                 }
<a name="l00222"></a>00222 
<a name="l00223"></a>00223                 <span class="keywordtype">bool</span> <a class="code" href="namespaceCEGUI.html#6ca1f0dedc55b468cc369297b03d435e" title="Return true if String str1 is lexicographically greater than or equal to String str2...">operator&gt;=</a>(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l00224"></a>00224 <span class="keyword">                </span>{
<a name="l00225"></a>00225                         <span class="keywordflow">return</span> (!(*<span class="keyword">this</span> &lt; iter));
<a name="l00226"></a>00226                 }
<a name="l00227"></a>00227 
<a name="l00228"></a>00228                 <span class="keyword">friend</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(difference_type offset, <span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; iter)
<a name="l00229"></a>00229                 {
<a name="l00230"></a>00230                         <span class="keywordflow">return</span> iter + offset;
<a name="l00231"></a>00231                 }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233         };
<a name="l00234"></a>00234 
<a name="l00239"></a><a class="code" href="classCEGUI_1_1String_1_1iterator.html">00239</a>         <span class="keyword">class </span><a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> : <span class="keyword">public</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>
<a name="l00240"></a>00240         {
<a name="l00241"></a>00241         <span class="keyword">public</span>:
<a name="l00242"></a>00242                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>(<span class="keywordtype">void</span>) {}
<a name="l00243"></a>00243                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>(pointer ptr) : <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>(ptr) {}
<a name="l00244"></a>00244 
<a name="l00245"></a>00245 
<a name="l00246"></a>00246                 reference operator*()<span class="keyword"> const</span>
<a name="l00247"></a>00247 <span class="keyword">                </span>{
<a name="l00248"></a>00248                         <span class="keywordflow">return</span> ((reference)**(<a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> *)<span class="keyword">this</span>);
<a name="l00249"></a>00249                 }
<a name="l00250"></a>00250 
<a name="l00251"></a>00251 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &lt;= 1200)</span>
<a name="l00252"></a>00252 <span class="preprocessor"></span><span class="preprocessor">#       pragma warning (push)</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span><span class="preprocessor">#       pragma warning (disable : 4284)</span>
<a name="l00254"></a>00254 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00255"></a>00255 <span class="preprocessor"></span>
<a name="l00256"></a>00256                 pointer operator-&gt;()<span class="keyword"> const</span>
<a name="l00257"></a>00257 <span class="keyword">                </span>{
<a name="l00258"></a>00258                         <span class="keywordflow">return</span> &amp;**<span class="keyword">this</span>;
<a name="l00259"></a>00259                 }
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; (_MSC_VER &lt;= 1200)</span>
<a name="l00262"></a>00262 <span class="preprocessor"></span><span class="preprocessor">#       pragma warning (pop)</span>
<a name="l00263"></a>00263 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00264"></a>00264 <span class="preprocessor"></span>
<a name="l00265"></a>00265                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>&amp; operator++()
<a name="l00266"></a>00266                 {
<a name="l00267"></a>00267                         ++this-&gt;d_ptr;
<a name="l00268"></a>00268                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00269"></a>00269                 }
<a name="l00270"></a>00270 
<a name="l00271"></a>00271                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> operator++(<span class="keywordtype">int</span>)
<a name="l00272"></a>00272                 {
<a name="l00273"></a>00273                         <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> temp = *<span class="keyword">this</span>;
<a name="l00274"></a>00274                         ++*<span class="keyword">this</span>;
<a name="l00275"></a>00275                         <span class="keywordflow">return</span> temp;
<a name="l00276"></a>00276                 }
<a name="l00277"></a>00277 
<a name="l00278"></a>00278                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>&amp; operator--()
<a name="l00279"></a>00279                 {
<a name="l00280"></a>00280                         --this-&gt;d_ptr;
<a name="l00281"></a>00281                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00282"></a>00282                 }
<a name="l00283"></a>00283 
<a name="l00284"></a>00284                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> operator--(<span class="keywordtype">int</span>)
<a name="l00285"></a>00285                 {
<a name="l00286"></a>00286                         <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> temp = *<span class="keyword">this</span>;
<a name="l00287"></a>00287                         --*<span class="keyword">this</span>;
<a name="l00288"></a>00288                         <span class="keywordflow">return</span> temp;
<a name="l00289"></a>00289                 }
<a name="l00290"></a>00290 
<a name="l00291"></a>00291                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>&amp; operator+=(difference_type offset)
<a name="l00292"></a>00292                 {
<a name="l00293"></a>00293                         this-&gt;d_ptr += offset;
<a name="l00294"></a>00294                         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00295"></a>00295                 }
<a name="l00296"></a>00296 
<a name="l00297"></a>00297                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(difference_type offset)<span class="keyword"> const</span>
<a name="l00298"></a>00298 <span class="keyword">                </span>{
<a name="l00299"></a>00299                         <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> temp = *<span class="keyword">this</span>;
<a name="l00300"></a>00300                         <span class="keywordflow">return</span> temp + offset;
<a name="l00301"></a>00301                 }
<a name="l00302"></a>00302 
<a name="l00303"></a>00303                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>&amp; operator-=(difference_type offset)
<a name="l00304"></a>00304                 {
<a name="l00305"></a>00305                         <span class="keywordflow">return</span> *<span class="keyword">this</span> += -offset;
<a name="l00306"></a>00306                 }
<a name="l00307"></a>00307 
<a name="l00308"></a>00308                 <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> operator-(difference_type offset)<span class="keyword"> const</span>
<a name="l00309"></a>00309 <span class="keyword">                </span>{
<a name="l00310"></a>00310                         <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> temp = *<span class="keyword">this</span>;
<a name="l00311"></a>00311                         <span class="keywordflow">return</span> temp -= offset;
<a name="l00312"></a>00312                 }
<a name="l00313"></a>00313 
<a name="l00314"></a>00314                 difference_type operator-(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>&amp; iter)<span class="keyword"> const</span>
<a name="l00315"></a>00315 <span class="keyword">                </span>{
<a name="l00316"></a>00316                         <span class="keywordflow">return</span> ((<a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>)*<span class="keyword">this</span> - iter);
<a name="l00317"></a>00317                 }
<a name="l00318"></a>00318 
<a name="l00319"></a>00319                 reference operator[](difference_type offset)<span class="keyword"> const</span>
<a name="l00320"></a>00320 <span class="keyword">                </span>{
<a name="l00321"></a>00321                         <span class="keywordflow">return</span> *(*<span class="keyword">this</span> + offset);
<a name="l00322"></a>00322                 }
<a name="l00323"></a>00323 
<a name="l00324"></a>00324                 <span class="keyword">friend</span> <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(difference_type offset, <span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>&amp; iter)
<a name="l00325"></a>00325                 {
<a name="l00326"></a>00326                         <span class="keywordflow">return</span> iter + offset;
<a name="l00327"></a>00327                 }
<a name="l00328"></a>00328 
<a name="l00329"></a>00329         };
<a name="l00330"></a>00330 
<a name="l00335"></a>00335 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; ((_MSC_VER &lt;= 1200) || ((_MSC_VER &lt;= 1300) &amp;&amp; defined(_STLPORT_VERSION)))</span>
<a name="l00336"></a>00336 <span class="preprocessor"></span>        <span class="keyword">typedef</span> std::reverse_iterator&lt;const_iterator, const_pointer, const_reference, difference_type&gt;  const_reverse_iterator;
<a name="l00337"></a>00337 <span class="preprocessor">#else</span>
<a name="l00338"></a><a class="code" href="classCEGUI_1_1String.html#18efc74e198d13e29bf182a6b7dd03bd">00338</a> <span class="preprocessor"></span>        <span class="keyword">typedef</span> std::reverse_iterator&lt;const_iterator&gt;   const_reverse_iterator;
<a name="l00339"></a>00339 <span class="preprocessor">#endif</span>
<a name="l00340"></a>00340 <span class="preprocessor"></span>
<a name="l00345"></a>00345 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; ((_MSC_VER &lt;= 1200) || ((_MSC_VER &lt;= 1300) &amp;&amp; defined(_STLPORT_VERSION)))</span>
<a name="l00346"></a>00346 <span class="preprocessor"></span>        <span class="keyword">typedef</span> std::reverse_iterator&lt;iterator, pointer, reference, difference_type&gt;                    reverse_iterator;
<a name="l00347"></a>00347 <span class="preprocessor">#else</span>
<a name="l00348"></a><a class="code" href="classCEGUI_1_1String.html#aebc9210797b9b6502a774688aebb8f9">00348</a> <span class="preprocessor"></span>        <span class="keyword">typedef</span> std::reverse_iterator&lt;iterator&gt;                 reverse_iterator;
<a name="l00349"></a>00349 <span class="preprocessor">#endif</span>
<a name="l00350"></a>00350 <span class="preprocessor"></span>
<a name="l00351"></a>00351 <span class="keyword">public</span>:
<a name="l00357"></a><a class="code" href="structCEGUI_1_1String_1_1FastLessCompare.html">00357</a>     <span class="keyword">struct </span><a class="code" href="structCEGUI_1_1String_1_1FastLessCompare.html" title="Functor that can be used as comparator in a std::map with String keys. It&amp;#39;s faster...">FastLessCompare</a>
<a name="l00358"></a>00358     {
<a name="l00359"></a>00359         <span class="keywordtype">bool</span> operator() (<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; a, <span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; b)<span class="keyword"> const</span>
<a name="l00360"></a>00360 <span class="keyword">        </span>{
<a name="l00361"></a>00361             <span class="keyword">const</span> <span class="keywordtype">size_t</span> la = a.<a class="code" href="classCEGUI_1_1String.html#4daca69d0bddf95a60ce812190501c7c" title="Returns the size of the String in code points.">length</a>();
<a name="l00362"></a>00362             <span class="keyword">const</span> <span class="keywordtype">size_t</span> lb = b.<a class="code" href="classCEGUI_1_1String.html#4daca69d0bddf95a60ce812190501c7c" title="Returns the size of the String in code points.">length</a>();
<a name="l00363"></a>00363             <span class="keywordflow">if</span> (la == lb)
<a name="l00364"></a>00364                 <span class="keywordflow">return</span> (memcmp(a.<a class="code" href="classCEGUI_1_1String.html#fe9c2ed1d10b10f9947c769816d3c74d" title="Returns a pointer to the buffer in use.">ptr</a>(), b.<a class="code" href="classCEGUI_1_1String.html#fe9c2ed1d10b10f9947c769816d3c74d" title="Returns a pointer to the buffer in use.">ptr</a>(), la*<span class="keyword">sizeof</span>(utf32)) &lt; 0);
<a name="l00365"></a>00365             <span class="keywordflow">return</span> (la &lt; lb);
<a name="l00366"></a>00366         }
<a name="l00367"></a>00367     };
<a name="l00368"></a>00368 
<a name="l00369"></a>00369 <span class="keyword">public</span>:
<a name="l00371"></a>00371         <span class="comment">// Default Construction and Destructor</span>
<a name="l00373"></a>00373 <span class="comment"></span>
<a name="l00377"></a><a class="code" href="classCEGUI_1_1String.html#3879f2df3844c8e665861653c63f3379">00377</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keywordtype">void</span>)
<a name="l00378"></a>00378         {
<a name="l00379"></a>00379                 init();
<a name="l00380"></a>00380         }
<a name="l00381"></a>00381 
<a name="l00386"></a>00386         ~<a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keywordtype">void</span>);
<a name="l00387"></a>00387 
<a name="l00389"></a>00389         <span class="comment">// Construction via CEGUI::String</span>
<a name="l00391"></a>00391 <span class="comment"></span>
<a name="l00401"></a><a class="code" href="classCEGUI_1_1String.html#cc4291f5a188d2e6a917b57a440e2dd0">00401</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str)
<a name="l00402"></a>00402         {
<a name="l00403"></a>00403                 init();
<a name="l00404"></a>00404                 assign(str);
<a name="l00405"></a>00405         }
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 
<a name="l00424"></a><a class="code" href="classCEGUI_1_1String.html#330207bcc17368d10024d31e47740792">00424</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type str_idx, size_type str_num = npos)
<a name="l00425"></a>00425         {
<a name="l00426"></a>00426                 init();
<a name="l00427"></a>00427                 assign(str, str_idx, str_num);
<a name="l00428"></a>00428         }
<a name="l00429"></a>00429 
<a name="l00431"></a>00431         <span class="comment">// Construction via std::string</span>
<a name="l00433"></a>00433 <span class="comment"></span>
<a name="l00449"></a><a class="code" href="classCEGUI_1_1String.html#a22961c9db60456e27d91a9f2a281d20">00449</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keyword">const</span> std::string&amp; std_str)
<a name="l00450"></a>00450         {
<a name="l00451"></a>00451                 init();
<a name="l00452"></a>00452                 assign(std_str);
<a name="l00453"></a>00453         }
<a name="l00454"></a>00454 
<a name="l00477"></a><a class="code" href="classCEGUI_1_1String.html#a4f6f50e53b7fcc44669a62ab1193b04">00477</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keyword">const</span> std::string&amp; std_str, size_type str_idx, size_type str_num = npos)
<a name="l00478"></a>00478         {
<a name="l00479"></a>00479                 init();
<a name="l00480"></a>00480                 assign(std_str, str_idx, str_num);
<a name="l00481"></a>00481         }
<a name="l00482"></a>00482 
<a name="l00483"></a>00483 
<a name="l00485"></a>00485         <span class="comment">// Construction via UTF-8 stream (for straight ASCII use, only codes 0x00 - 0x7f are valid)</span>
<a name="l00487"></a>00487 <span class="comment"></span>
<a name="l00505"></a><a class="code" href="classCEGUI_1_1String.html#1aef2db8c4a966119d6c6759ce44fd25">00505</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keyword">const</span> utf8* utf8_str)
<a name="l00506"></a>00506         {
<a name="l00507"></a>00507                 init();
<a name="l00508"></a>00508                 assign(utf8_str);
<a name="l00509"></a>00509         }
<a name="l00510"></a>00510 
<a name="l00537"></a><a class="code" href="classCEGUI_1_1String.html#f15cec8e6f09e035632375aa6bf77db5">00537</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keyword">const</span> utf8* utf8_str, size_type chars_len)
<a name="l00538"></a>00538         {
<a name="l00539"></a>00539                 init();
<a name="l00540"></a>00540                 assign(utf8_str, chars_len);
<a name="l00541"></a>00541         }
<a name="l00542"></a>00542 
<a name="l00544"></a>00544         <span class="comment">// Construction via code-point (using a UTF-32 code unit)</span>
<a name="l00546"></a>00546 <span class="comment"></span>
<a name="l00561"></a><a class="code" href="classCEGUI_1_1String.html#fdf106dc6171e3cce9481ab6dc26d55a">00561</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(size_type num, utf32 code_point)
<a name="l00562"></a>00562         {
<a name="l00563"></a>00563                 init();
<a name="l00564"></a>00564                 assign(num, code_point);
<a name="l00565"></a>00565         }
<a name="l00566"></a>00566 
<a name="l00568"></a>00568         <span class="comment">// Construction via iterator</span>
<a name="l00570"></a>00570 <span class="comment"></span>        <span class="comment">// Create string with characters in the range [beg, end)</span>
<a name="l00584"></a><a class="code" href="classCEGUI_1_1String.html#0c90f145db88cf2e1233c64eada6b475">00584</a> <span class="comment"></span>        <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> iter_end)
<a name="l00585"></a>00585         {
<a name="l00586"></a>00586                 init();
<a name="l00587"></a>00587                 append(iter_beg, iter_end);
<a name="l00588"></a>00588         }
<a name="l00589"></a>00589 
<a name="l00590"></a>00590 
<a name="l00592"></a>00592         <span class="comment">// Construction via c-string</span>
<a name="l00594"></a>00594 <span class="comment"></span>
<a name="l00606"></a><a class="code" href="classCEGUI_1_1String.html#5127051dff6efb99aec1f15e5660f18c">00606</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)
<a name="l00607"></a>00607         {
<a name="l00608"></a>00608                 init();
<a name="l00609"></a>00609                 assign(cstr);
<a name="l00610"></a>00610         }
<a name="l00611"></a>00611 
<a name="l00627"></a><a class="code" href="classCEGUI_1_1String.html#998fee19983f668e1acd9cad23f3687d">00627</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type chars_len)
<a name="l00628"></a>00628         {
<a name="l00629"></a>00629                 init();
<a name="l00630"></a>00630                 assign(chars, chars_len);
<a name="l00631"></a>00631         }
<a name="l00632"></a>00632 
<a name="l00633"></a>00633 
<a name="l00635"></a>00635         <span class="comment">// Size operations</span>
<a name="l00637"></a>00637 <span class="comment"></span>
<a name="l00644"></a><a class="code" href="classCEGUI_1_1String.html#f66216c10125b26474b71bf1b23624f1">00644</a>         size_type       size(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00645"></a>00645 <span class="keyword">        </span>{
<a name="l00646"></a>00646                 <span class="keywordflow">return</span> d_cplength;
<a name="l00647"></a>00647         }
<a name="l00648"></a>00648 
<a name="l00656"></a><a class="code" href="classCEGUI_1_1String.html#4daca69d0bddf95a60ce812190501c7c">00656</a>         size_type       length(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00657"></a>00657 <span class="keyword">        </span>{
<a name="l00658"></a>00658                 <span class="keywordflow">return</span> d_cplength;
<a name="l00659"></a>00659         }
<a name="l00660"></a>00660 
<a name="l00668"></a><a class="code" href="classCEGUI_1_1String.html#b6fc31dc08c501cd9b0e809953c13a1c">00668</a>         <span class="keywordtype">bool</span>    empty(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00669"></a>00669 <span class="keyword">        </span>{
<a name="l00670"></a>00670                 <span class="keywordflow">return</span>  (d_cplength == 0);
<a name="l00671"></a>00671         }
<a name="l00672"></a>00672 
<a name="l00682"></a><a class="code" href="classCEGUI_1_1String.html#d4617d00ea11cc95ebc38910fe8dad4c">00682</a>         <span class="keyword">static</span> size_type        max_size(<span class="keywordtype">void</span>)
<a name="l00683"></a>00683         {
<a name="l00684"></a>00684                 <span class="keywordflow">return</span> (((size_type)-1) / <span class="keyword">sizeof</span>(utf32));
<a name="l00685"></a>00685         }
<a name="l00686"></a>00686 
<a name="l00688"></a>00688         <span class="comment">// Capacity Operations</span>
<a name="l00690"></a>00690 <span class="comment"></span>        <span class="comment">// return the number of code points the string could hold without re-allocation</span>
<a name="l00691"></a>00691         <span class="comment">// (due to internal encoding this will always report the figure for worst-case encoding, and could even be &lt; size()!)</span>
<a name="l00700"></a><a class="code" href="classCEGUI_1_1String.html#4e38473663c2893f852373fe941fb4b1">00700</a> <span class="comment"></span>        size_type capacity(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00701"></a>00701 <span class="keyword">        </span>{
<a name="l00702"></a>00702                 <span class="keywordflow">return</span> d_reserve - 1;
<a name="l00703"></a>00703         }
<a name="l00704"></a>00704 
<a name="l00705"></a>00705         <span class="comment">// reserve internal memory for at-least 'num' code-points (characters).  if num is 0, request is shrink-to-fit.</span>
<a name="l00720"></a><a class="code" href="classCEGUI_1_1String.html#f9e79c508d8022d2d4b1df7a5c2d3edf">00720</a> <span class="comment"></span>        <span class="keywordtype">void</span>    reserve(size_type num = 0)
<a name="l00721"></a>00721         {
<a name="l00722"></a>00722                 <span class="keywordflow">if</span> (num == 0)
<a name="l00723"></a>00723                         trim();
<a name="l00724"></a>00724                 <span class="keywordflow">else</span>
<a name="l00725"></a>00725                         grow(num);
<a name="l00726"></a>00726         }
<a name="l00727"></a>00727 
<a name="l00729"></a>00729         <span class="comment">// Comparisons</span>
<a name="l00731"></a>00731 <span class="comment"></span>
<a name="l00746"></a><a class="code" href="classCEGUI_1_1String.html#4fcda5adb0eaea8491edfcc289dfb2cf">00746</a>         <span class="keywordtype">int</span>             compare(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str)<span class="keyword"> const</span>
<a name="l00747"></a>00747 <span class="keyword">        </span>{
<a name="l00748"></a>00748                 <span class="keywordflow">return</span> compare(0, d_cplength, str);
<a name="l00749"></a>00749         }
<a name="l00750"></a>00750 
<a name="l00780"></a><a class="code" href="classCEGUI_1_1String.html#466ed879c6293d0d10b182c0ad65dcf5">00780</a>         <span class="keywordtype">int</span>             compare(size_type idx, size_type len, <span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type str_idx = 0, size_type str_len = npos)<span class="keyword"> const</span>
<a name="l00781"></a>00781 <span class="keyword">        </span>{
<a name="l00782"></a>00782                 <span class="keywordflow">if</span> ((d_cplength &lt; idx) || (str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> &lt; str_idx))
<a name="l00783"></a>00783                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l00784"></a>00784 
<a name="l00785"></a>00785                 <span class="keywordflow">if</span> ((len == npos) || (idx + len &gt; d_cplength))
<a name="l00786"></a>00786                         len = d_cplength - idx;
<a name="l00787"></a>00787 
<a name="l00788"></a>00788                 <span class="keywordflow">if</span> ((str_len == npos) || (str_idx + str_len &gt; str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a>))
<a name="l00789"></a>00789                         str_len = str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> - str_idx;
<a name="l00790"></a>00790 
<a name="l00791"></a>00791                 <span class="keywordtype">int</span> val = (len == 0) ? 0 : utf32_comp_utf32(&amp;ptr()[idx], &amp;str.<a class="code" href="classCEGUI_1_1String.html#fe9c2ed1d10b10f9947c769816d3c74d" title="Returns a pointer to the buffer in use.">ptr</a>()[str_idx], (len &lt; str_len) ? len : str_len);
<a name="l00792"></a>00792 
<a name="l00793"></a>00793                 <span class="keywordflow">return</span> (val != 0) ? ((val &lt; 0) ? -1 : 1) : (len &lt; str_len) ? -1 : (len == str_len) ? 0 : 1;
<a name="l00794"></a>00794         }
<a name="l00795"></a>00795 
<a name="l00796"></a>00796 
<a name="l00816"></a><a class="code" href="classCEGUI_1_1String.html#027fecf8e8e6fe982bf586fd247c9bcf">00816</a>         <span class="keywordtype">int</span>             compare(<span class="keyword">const</span> std::string&amp; std_str)<span class="keyword"> const</span>
<a name="l00817"></a>00817 <span class="keyword">        </span>{
<a name="l00818"></a>00818                 <span class="keywordflow">return</span> compare(0, d_cplength, std_str);
<a name="l00819"></a>00819         }
<a name="l00820"></a>00820 
<a name="l00821"></a>00821 
<a name="l00855"></a><a class="code" href="classCEGUI_1_1String.html#2f168a6085f4d96b5de56336bac2cc4c">00855</a>         <span class="keywordtype">int</span>             compare(size_type idx, size_type len, <span class="keyword">const</span> std::string&amp; std_str, size_type str_idx = 0, size_type str_len = npos)<span class="keyword"> const</span>
<a name="l00856"></a>00856 <span class="keyword">        </span>{
<a name="l00857"></a>00857                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l00858"></a>00858                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l00859"></a>00859 
<a name="l00860"></a>00860                 <span class="keywordflow">if</span> (std_str.size() &lt; str_idx)
<a name="l00861"></a>00861                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for std::string"</span>);
<a name="l00862"></a>00862 
<a name="l00863"></a>00863                 <span class="keywordflow">if</span> ((len == npos) || (idx + len &gt; d_cplength))
<a name="l00864"></a>00864                         len = d_cplength - idx;
<a name="l00865"></a>00865 
<a name="l00866"></a>00866                 <span class="keywordflow">if</span> ((str_len == npos) || (str_idx + str_len &gt; std_str.size()))
<a name="l00867"></a>00867                         str_len = (size_type)std_str.size() - str_idx;
<a name="l00868"></a>00868 
<a name="l00869"></a>00869                 <span class="keywordtype">int</span> val = (len == 0) ? 0 : utf32_comp_char(&amp;ptr()[idx], &amp;std_str.c_str()[str_idx], (len &lt; str_len) ? len : str_len);
<a name="l00870"></a>00870 
<a name="l00871"></a>00871                 <span class="keywordflow">return</span> (val != 0) ? ((val &lt; 0) ? -1 : 1) : (len &lt; str_len) ? -1 : (len == str_len) ? 0 : 1;
<a name="l00872"></a>00872         }
<a name="l00873"></a>00873 
<a name="l00874"></a>00874 
<a name="l00896"></a><a class="code" href="classCEGUI_1_1String.html#a04d3adeef4322790f1fb8af5dd7b569">00896</a>         <span class="keywordtype">int</span>             compare(<span class="keyword">const</span> utf8* utf8_str)<span class="keyword"> const</span>
<a name="l00897"></a>00897 <span class="keyword">        </span>{
<a name="l00898"></a>00898                 <span class="keywordflow">return</span> compare(0, d_cplength, utf8_str, encoded_size(utf8_str));
<a name="l00899"></a>00899         }
<a name="l00900"></a>00900 
<a name="l00901"></a>00901 
<a name="l00931"></a><a class="code" href="classCEGUI_1_1String.html#c8c676c58d1094f13890a70d176e3f36">00931</a>         <span class="keywordtype">int</span>             compare(size_type idx, size_type len, <span class="keyword">const</span> utf8* utf8_str)<span class="keyword"> const</span>
<a name="l00932"></a>00932 <span class="keyword">        </span>{
<a name="l00933"></a>00933                 <span class="keywordflow">return</span> compare(idx, len, utf8_str, encoded_size(utf8_str));
<a name="l00934"></a>00934         }
<a name="l00935"></a>00935 
<a name="l00969"></a><a class="code" href="classCEGUI_1_1String.html#947a691bb9f3dc735cdc89e0cb0b3c13">00969</a>         <span class="keywordtype">int</span>             compare(size_type idx, size_type len, <span class="keyword">const</span> utf8* utf8_str, size_type str_cplen)<span class="keyword"> const</span>
<a name="l00970"></a>00970 <span class="keyword">        </span>{
<a name="l00971"></a>00971                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l00972"></a>00972                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l00973"></a>00973 
<a name="l00974"></a>00974                 <span class="keywordflow">if</span> (str_cplen == npos)
<a name="l00975"></a>00975                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l00976"></a>00976 
<a name="l00977"></a>00977                 <span class="keywordflow">if</span> ((len == npos) || (idx + len &gt; d_cplength))
<a name="l00978"></a>00978                         len = d_cplength - idx;
<a name="l00979"></a>00979 
<a name="l00980"></a>00980                 <span class="keywordtype">int</span> val = (len == 0) ? 0 : utf32_comp_utf8(&amp;ptr()[idx], utf8_str, (len &lt; str_cplen) ? len : str_cplen);
<a name="l00981"></a>00981 
<a name="l00982"></a>00982                 <span class="keywordflow">return</span> (val != 0) ? ((val &lt; 0) ? -1 : 1) : (len &lt; str_cplen) ? -1 : (len == str_cplen) ? 0 : 1;
<a name="l00983"></a>00983         }
<a name="l00984"></a>00984 
<a name="l00985"></a>00985 
<a name="l01001"></a><a class="code" href="classCEGUI_1_1String.html#530d76a96d300711a2c0c8e869e75a52">01001</a>         <span class="keywordtype">int</span>             compare(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)<span class="keyword"> const</span>
<a name="l01002"></a>01002 <span class="keyword">        </span>{
<a name="l01003"></a>01003                 <span class="keywordflow">return</span> compare(0, d_cplength, cstr, strlen(cstr));
<a name="l01004"></a>01004         }
<a name="l01005"></a>01005 
<a name="l01006"></a>01006 
<a name="l01030"></a><a class="code" href="classCEGUI_1_1String.html#8463bdc2ab7527822f5463235e7202c3">01030</a>         <span class="keywordtype">int</span>             compare(size_type idx, size_type len, <span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)<span class="keyword"> const</span>
<a name="l01031"></a>01031 <span class="keyword">        </span>{
<a name="l01032"></a>01032                 <span class="keywordflow">return</span> compare(idx, len, cstr, strlen(cstr));
<a name="l01033"></a>01033         }
<a name="l01034"></a>01034 
<a name="l01035"></a>01035 
<a name="l01063"></a><a class="code" href="classCEGUI_1_1String.html#ead14a66f133faa3d7635df097ec4c9c">01063</a>         <span class="keywordtype">int</span>             compare(size_type idx, size_type len, <span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type chars_len)<span class="keyword"> const</span>
<a name="l01064"></a>01064 <span class="keyword">        </span>{
<a name="l01065"></a>01065                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l01066"></a>01066                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l01067"></a>01067 
<a name="l01068"></a>01068                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l01069"></a>01069                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for char array can not be 'npos'"</span>);
<a name="l01070"></a>01070 
<a name="l01071"></a>01071                 <span class="keywordflow">if</span> ((len == npos) || (idx + len &gt; d_cplength))
<a name="l01072"></a>01072                         len = d_cplength - idx;
<a name="l01073"></a>01073 
<a name="l01074"></a>01074                 <span class="keywordtype">int</span> val = (len == 0) ? 0 : utf32_comp_char(&amp;ptr()[idx], chars, (len &lt; chars_len) ? len : chars_len);
<a name="l01075"></a>01075 
<a name="l01076"></a>01076                 <span class="keywordflow">return</span> (val != 0) ? ((val &lt; 0) ? -1 : 1) : (len &lt; chars_len) ? -1 : (len == chars_len) ? 0 : 1;
<a name="l01077"></a>01077         }
<a name="l01078"></a>01078 
<a name="l01079"></a>01079 
<a name="l01081"></a>01081         <span class="comment">// Character access</span>
<a name="l01083"></a>01083 <span class="comment"></span>
<a name="l01097"></a><a class="code" href="classCEGUI_1_1String.html#22551e39d6e6a7429b74ef58ad9e8512">01097</a>         reference       operator[](size_type idx)
<a name="l01098"></a>01098         {
<a name="l01099"></a>01099                 <span class="keywordflow">return</span> (ptr()[idx]);
<a name="l01100"></a>01100         }
<a name="l01101"></a>01101 
<a name="l01116"></a><a class="code" href="classCEGUI_1_1String.html#0f4b2171e61fb303fbf392ead7003bfa">01116</a>         value_type      operator[](size_type idx)<span class="keyword"> const</span>
<a name="l01117"></a>01117 <span class="keyword">        </span>{
<a name="l01118"></a>01118                 <span class="keywordflow">return</span> ptr()[idx];
<a name="l01119"></a>01119         }
<a name="l01120"></a>01120 
<a name="l01133"></a><a class="code" href="classCEGUI_1_1String.html#9ee4b8aebbbcbd343406d81afc3945ff">01133</a>         reference       at(size_type idx)
<a name="l01134"></a>01134         {
<a name="l01135"></a>01135                 <span class="keywordflow">if</span> (d_cplength &lt;= idx)
<a name="l01136"></a>01136                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l01137"></a>01137 
<a name="l01138"></a>01138                 <span class="keywordflow">return</span> ptr()[idx];
<a name="l01139"></a>01139         }
<a name="l01140"></a>01140 
<a name="l01153"></a><a class="code" href="classCEGUI_1_1String.html#af55236c0204d3561a08e7943cd2ec99">01153</a>         const_reference at(size_type idx)<span class="keyword"> const</span>
<a name="l01154"></a>01154 <span class="keyword">        </span>{
<a name="l01155"></a>01155                 <span class="keywordflow">if</span> (d_cplength &lt;= idx)
<a name="l01156"></a>01156                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l01157"></a>01157 
<a name="l01158"></a>01158                 <span class="keywordflow">return</span> ptr()[idx];
<a name="l01159"></a>01159         }
<a name="l01160"></a>01160 
<a name="l01161"></a>01161 
<a name="l01163"></a>01163         <span class="comment">// C-Strings and arrays</span>
<a name="l01165"></a>01165 <span class="comment"></span>
<a name="l01178"></a><a class="code" href="classCEGUI_1_1String.html#231dee78637aa7d2b122de92a66292e4">01178</a>         <span class="keyword">const</span> <span class="keywordtype">char</span>* c_str(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l01179"></a>01179 <span class="keyword">        </span>{
<a name="l01180"></a>01180                 <span class="keywordflow">return</span> (<span class="keyword">const</span> <span class="keywordtype">char</span>*)build_utf8_buff();
<a name="l01181"></a>01181         }
<a name="l01182"></a>01182 
<a name="l01196"></a><a class="code" href="classCEGUI_1_1String.html#02cdbd48809ba8e688f1a0e6c1b3914f">01196</a>         <span class="keyword">const</span> utf8* data(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l01197"></a>01197 <span class="keyword">        </span>{
<a name="l01198"></a>01198                 <span class="keywordflow">return</span> build_utf8_buff();
<a name="l01199"></a>01199         }
<a name="l01200"></a>01200 
<a name="l01205"></a><a class="code" href="classCEGUI_1_1String.html#fe9c2ed1d10b10f9947c769816d3c74d">01205</a>         utf32*  ptr(<span class="keywordtype">void</span>)
<a name="l01206"></a>01206         {
<a name="l01207"></a>01207                 <span class="keywordflow">return</span> (d_reserve &gt; STR_QUICKBUFF_SIZE) ? d_buffer : d_quickbuff;
<a name="l01208"></a>01208         }
<a name="l01209"></a>01209 
<a name="l01214"></a><a class="code" href="classCEGUI_1_1String.html#d746e4b15f5d358d575cfaf931294688">01214</a>         <span class="keyword">const</span> utf32*    ptr(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l01215"></a>01215 <span class="keyword">        </span>{
<a name="l01216"></a>01216                 <span class="keywordflow">return</span> (d_reserve &gt; STR_QUICKBUFF_SIZE) ? d_buffer : d_quickbuff;
<a name="l01217"></a>01217         }
<a name="l01218"></a>01218 
<a name="l01219"></a>01219         <span class="comment">// copy, at most, 'len' code-points of the string, begining with code-point 'idx', into the array 'buf' as valid utf8 encoded data</span>
<a name="l01220"></a>01220         <span class="comment">// return number of utf8 code units placed into the buffer</span>
<a name="l01241"></a><a class="code" href="classCEGUI_1_1String.html#1a17b18782bf92c65d79d5cccc2e9ad6">01241</a> <span class="comment"></span>        size_type       copy(utf8* buf, size_type len = npos, size_type idx = 0)<span class="keyword"> const</span>
<a name="l01242"></a>01242 <span class="keyword">        </span>{
<a name="l01243"></a>01243                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l01244"></a>01244                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l01245"></a>01245 
<a name="l01246"></a>01246                 <span class="keywordflow">if</span> (len == npos)
<a name="l01247"></a>01247                         len = d_cplength;
<a name="l01248"></a>01248 
<a name="l01249"></a>01249                 <span class="keywordflow">return</span> encode(&amp;ptr()[idx], buf, npos, len);
<a name="l01250"></a>01250         }
<a name="l01251"></a>01251 
<a name="l01253"></a>01253         <span class="comment">// UTF8 Encoding length information</span>
<a name="l01255"></a>01255 <span class="comment"></span>        <span class="comment">// return the number of bytes required to hold 'num' code-points, starting at code-point 'idx', of the the string when encoded as utf8 data.</span>
<a name="l01271"></a><a class="code" href="classCEGUI_1_1String.html#7ffe9f1a7c4c32123ca5db85d2ae85fc">01271</a> <span class="comment"></span>        size_type       utf8_stream_len(size_type num = npos, size_type idx = 0)<span class="keyword"> const</span>
<a name="l01272"></a>01272 <span class="keyword">        </span>{
<a name="l01273"></a>01273                 <span class="keyword">using namespace </span>std;
<a name="l01274"></a>01274 
<a name="l01275"></a>01275                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l01276"></a>01276                         <span class="keywordflow">throw</span> out_of_range(<span class="stringliteral">"Index was out of range for CEGUI::String object"</span>);
<a name="l01277"></a>01277 
<a name="l01278"></a>01278                 size_type       maxlen = d_cplength - idx;
<a name="l01279"></a>01279 
<a name="l01280"></a>01280                 <span class="keywordflow">return</span> encoded_size(&amp;ptr()[idx], ceguimin(num, maxlen));
<a name="l01281"></a>01281         }
<a name="l01282"></a>01282 
<a name="l01284"></a>01284         <span class="comment">// Assignment Functions</span>
<a name="l01286"></a>01286 <span class="comment"></span>
<a name="l01296"></a><a class="code" href="classCEGUI_1_1String.html#f34427c4500638112e0ca648ece8dd91">01296</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str)
<a name="l01297"></a>01297         {
<a name="l01298"></a>01298                 <span class="keywordflow">return</span> assign(str);
<a name="l01299"></a>01299         }
<a name="l01300"></a>01300 
<a name="l01319"></a><a class="code" href="classCEGUI_1_1String.html#e787b7437b3492d207be9cf1e0fdd7d0">01319</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; assign(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type str_idx = 0, size_type str_num = npos)
<a name="l01320"></a>01320         {
<a name="l01321"></a>01321                 <span class="keywordflow">if</span> (str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> &lt; str_idx)
<a name="l01322"></a>01322                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index was out of range for CEGUI::String object"</span>);
<a name="l01323"></a>01323 
<a name="l01324"></a>01324                 <span class="keywordflow">if</span> ((str_num == npos) || (str_num &gt; str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> - str_idx))
<a name="l01325"></a>01325                         str_num = str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> - str_idx;
<a name="l01326"></a>01326 
<a name="l01327"></a>01327                 grow(str_num);
<a name="l01328"></a>01328                 setlen(str_num);
<a name="l01329"></a>01329                 memcpy(ptr(), &amp;str.<a class="code" href="classCEGUI_1_1String.html#fe9c2ed1d10b10f9947c769816d3c74d" title="Returns a pointer to the buffer in use.">ptr</a>()[str_idx], str_num * <span class="keyword">sizeof</span>(utf32));
<a name="l01330"></a>01330 
<a name="l01331"></a>01331                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01332"></a>01332         }
<a name="l01333"></a>01333 
<a name="l01350"></a><a class="code" href="classCEGUI_1_1String.html#9b2c9bd49e4fd3d176f93171a3e94950">01350</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator=(<span class="keyword">const</span> std::string&amp; std_str)
<a name="l01351"></a>01351         {
<a name="l01352"></a>01352                 <span class="keywordflow">return</span> assign(std_str);
<a name="l01353"></a>01353         }
<a name="l01354"></a>01354 
<a name="l01378"></a><a class="code" href="classCEGUI_1_1String.html#6dbcbc10869050d9f8e1d0e27377862a">01378</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; assign(<span class="keyword">const</span> std::string&amp; std_str, size_type str_idx = 0, size_type str_num = npos)
<a name="l01379"></a>01379         {
<a name="l01380"></a>01380                 <span class="keywordflow">if</span> (std_str.size() &lt; str_idx)
<a name="l01381"></a>01381                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index was out of range for std::string object"</span>);
<a name="l01382"></a>01382 
<a name="l01383"></a>01383                 <span class="keywordflow">if</span> ((str_num == npos) || (str_num &gt; (size_type)std_str.size() - str_idx))
<a name="l01384"></a>01384                         str_num = (size_type)std_str.size() - str_idx;
<a name="l01385"></a>01385 
<a name="l01386"></a>01386                 grow(str_num);
<a name="l01387"></a>01387                 setlen(str_num);
<a name="l01388"></a>01388 
<a name="l01389"></a>01389                 <span class="keywordflow">while</span>(str_num--)
<a name="l01390"></a>01390                 {
<a name="l01391"></a>01391                         ((*this)[str_num]) = static_cast&lt;utf32&gt;(static_cast&lt;unsigned char&gt;(std_str[str_num + str_idx]));
<a name="l01392"></a>01392                 }
<a name="l01393"></a>01393 
<a name="l01394"></a>01394                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01395"></a>01395         }
<a name="l01396"></a>01396 
<a name="l01415"></a><a class="code" href="classCEGUI_1_1String.html#ab10da009c331a9d55855c4ccb9e0628">01415</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator=(<span class="keyword">const</span> utf8* utf8_str)
<a name="l01416"></a>01416         {
<a name="l01417"></a>01417                 <span class="keywordflow">return</span> assign(utf8_str, utf_length(utf8_str));
<a name="l01418"></a>01418         }
<a name="l01419"></a>01419 
<a name="l01438"></a><a class="code" href="classCEGUI_1_1String.html#bb818043a09680aac275a5ae90615de7">01438</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; assign(<span class="keyword">const</span> utf8* utf8_str)
<a name="l01439"></a>01439         {
<a name="l01440"></a>01440                 <span class="keywordflow">return</span> assign(utf8_str, utf_length(utf8_str));
<a name="l01441"></a>01441         }
<a name="l01442"></a>01442 
<a name="l01464"></a><a class="code" href="classCEGUI_1_1String.html#488f4fc20457c7fa527d3d247620ec9d">01464</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; assign(<span class="keyword">const</span> utf8* utf8_str, size_type str_num)
<a name="l01465"></a>01465         {
<a name="l01466"></a>01466                 <span class="keywordflow">if</span> (str_num == npos)
<a name="l01467"></a>01467                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l01468"></a>01468 
<a name="l01469"></a>01469                 size_type enc_sze = encoded_size(utf8_str, str_num);
<a name="l01470"></a>01470 
<a name="l01471"></a>01471                 grow(enc_sze);
<a name="l01472"></a>01472                 encode(utf8_str, ptr(), d_reserve, str_num);
<a name="l01473"></a>01473                 setlen(enc_sze);
<a name="l01474"></a>01474                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01475"></a>01475         }
<a name="l01476"></a>01476 
<a name="l01487"></a><a class="code" href="classCEGUI_1_1String.html#bc6314982ea820b7499d6a800fe55f95">01487</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator=(utf32 code_point)
<a name="l01488"></a>01488         {
<a name="l01489"></a>01489                 <span class="keywordflow">return</span> assign(1, code_point);
<a name="l01490"></a>01490         }
<a name="l01491"></a>01491 
<a name="l01507"></a><a class="code" href="classCEGUI_1_1String.html#f53bed09ccf35d6a3a10a42bc9fab90c">01507</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; assign(size_type num, utf32 code_point)
<a name="l01508"></a>01508         {
<a name="l01509"></a>01509                 <span class="keywordflow">if</span> (num == npos)
<a name="l01510"></a>01510                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Code point count can not be 'npos'"</span>);
<a name="l01511"></a>01511 
<a name="l01512"></a>01512                 grow(num);
<a name="l01513"></a>01513                 setlen(num);
<a name="l01514"></a>01514                 utf32* p = ptr();
<a name="l01515"></a>01515 
<a name="l01516"></a>01516                 <span class="keywordflow">while</span>(num--)
<a name="l01517"></a>01517                         *p++ = code_point;
<a name="l01518"></a>01518 
<a name="l01519"></a>01519                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01520"></a>01520         }
<a name="l01521"></a>01521 
<a name="l01522"></a>01522 
<a name="l01535"></a><a class="code" href="classCEGUI_1_1String.html#3e0d51200affc5d0c75ea56ebbf9704c">01535</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator=(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)
<a name="l01536"></a>01536         {
<a name="l01537"></a>01537                 <span class="keywordflow">return</span> assign(cstr, strlen(cstr));
<a name="l01538"></a>01538         }
<a name="l01539"></a>01539 
<a name="l01540"></a>01540 
<a name="l01553"></a><a class="code" href="classCEGUI_1_1String.html#2c834a31d4a2b0f39f17f4d25a79e00a">01553</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; assign(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)
<a name="l01554"></a>01554         {
<a name="l01555"></a>01555                 <span class="keywordflow">return</span> assign(cstr, strlen(cstr));
<a name="l01556"></a>01556         }
<a name="l01557"></a>01557 
<a name="l01558"></a>01558 
<a name="l01574"></a><a class="code" href="classCEGUI_1_1String.html#982c4af79b546b86b2281999330be142">01574</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; assign(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type chars_len)
<a name="l01575"></a>01575         {
<a name="l01576"></a>01576                 grow(chars_len);
<a name="l01577"></a>01577                 utf32* pt = ptr();
<a name="l01578"></a>01578 
<a name="l01579"></a>01579                 <span class="keywordflow">for</span> (size_type i = 0; i &lt; chars_len; ++i)
<a name="l01580"></a>01580                 {
<a name="l01581"></a>01581                         *pt++ = <span class="keyword">static_cast&lt;</span>utf32<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(*chars++));
<a name="l01582"></a>01582                 }
<a name="l01583"></a>01583 
<a name="l01584"></a>01584                 setlen(chars_len);
<a name="l01585"></a>01585                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01586"></a>01586         }
<a name="l01587"></a>01587 
<a name="l01588"></a>01588 
<a name="l01599"></a><a class="code" href="classCEGUI_1_1String.html#ff1954c51e3e51fb6aa94415eef743f2">01599</a>         <span class="keywordtype">void</span>    <a class="code" href="namespaceCEGUI.html#8f83fb9c1a5679b5d5ad27e6c2e1d2d8" title="Swap the contents for two String objects.">swap</a>(<a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str)
<a name="l01600"></a>01600         {
<a name="l01601"></a>01601                 size_type       temp_len        = d_cplength;
<a name="l01602"></a>01602                 d_cplength = str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a>;
<a name="l01603"></a>01603                 str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> = temp_len;
<a name="l01604"></a>01604 
<a name="l01605"></a>01605                 size_type       temp_res        = d_reserve;
<a name="l01606"></a>01606                 d_reserve = str.<a class="code" href="classCEGUI_1_1String.html#e415a04195f151f27e6599fabe6b2349" title="code point reserve size (currently allocated buffer size in code points).">d_reserve</a>;
<a name="l01607"></a>01607                 str.<a class="code" href="classCEGUI_1_1String.html#e415a04195f151f27e6599fabe6b2349" title="code point reserve size (currently allocated buffer size in code points).">d_reserve</a> = temp_res;
<a name="l01608"></a>01608 
<a name="l01609"></a>01609                 utf32*          temp_buf        = d_buffer;
<a name="l01610"></a>01610                 d_buffer = str.<a class="code" href="classCEGUI_1_1String.html#0ebc907f5f0b35e94545431684008766" title="Pointer the the main buffer memory. This is only valid when quick-buffer is not being...">d_buffer</a>;
<a name="l01611"></a>01611                 str.<a class="code" href="classCEGUI_1_1String.html#0ebc907f5f0b35e94545431684008766" title="Pointer the the main buffer memory. This is only valid when quick-buffer is not being...">d_buffer</a> = temp_buf;
<a name="l01612"></a>01612 
<a name="l01613"></a>01613                 <span class="comment">// see if we need to swap 'quick buffer' data</span>
<a name="l01614"></a>01614                 <span class="keywordflow">if</span> (temp_res &lt;= STR_QUICKBUFF_SIZE)
<a name="l01615"></a>01615                 {
<a name="l01616"></a>01616                         utf32           temp_qbf[STR_QUICKBUFF_SIZE];
<a name="l01617"></a>01617 
<a name="l01618"></a>01618                         memcpy(temp_qbf, d_quickbuff, STR_QUICKBUFF_SIZE * <span class="keyword">sizeof</span>(utf32));
<a name="l01619"></a>01619                         memcpy(d_quickbuff, str.<a class="code" href="classCEGUI_1_1String.html#42b97b235b818e547e16a656b00ae267" title="This is a integrated &amp;#39;quick&amp;#39; buffer to save allocations for smallish strings...">d_quickbuff</a>, STR_QUICKBUFF_SIZE * <span class="keyword">sizeof</span>(utf32));
<a name="l01620"></a>01620                         memcpy(str.<a class="code" href="classCEGUI_1_1String.html#42b97b235b818e547e16a656b00ae267" title="This is a integrated &amp;#39;quick&amp;#39; buffer to save allocations for smallish strings...">d_quickbuff</a>, temp_qbf, STR_QUICKBUFF_SIZE * <span class="keyword">sizeof</span>(utf32));
<a name="l01621"></a>01621                 }
<a name="l01622"></a>01622 
<a name="l01623"></a>01623         }
<a name="l01624"></a>01624 
<a name="l01626"></a>01626         <span class="comment">// Appending Functions</span>
<a name="l01628"></a>01628 <span class="comment"></span>
<a name="l01640"></a><a class="code" href="classCEGUI_1_1String.html#f70c3b19f0382f3af359d2e281a0eacd">01640</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator+=(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str)
<a name="l01641"></a>01641         {
<a name="l01642"></a>01642                 <span class="keywordflow">return</span> append(str);
<a name="l01643"></a>01643         }
<a name="l01644"></a>01644 
<a name="l01664"></a><a class="code" href="classCEGUI_1_1String.html#6f7fac21b900821ae6696cea93eb61a8">01664</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; append(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type str_idx = 0, size_type str_num = npos)
<a name="l01665"></a>01665         {
<a name="l01666"></a>01666                 <span class="keywordflow">if</span> (str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> &lt; str_idx)
<a name="l01667"></a>01667                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l01668"></a>01668 
<a name="l01669"></a>01669                 <span class="keywordflow">if</span> ((str_num == npos) || (str_num &gt; str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> - str_idx))
<a name="l01670"></a>01670                         str_num = str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> - str_idx;
<a name="l01671"></a>01671 
<a name="l01672"></a>01672                 grow(d_cplength + str_num);
<a name="l01673"></a>01673                 memcpy(&amp;ptr()[d_cplength], &amp;str.<a class="code" href="classCEGUI_1_1String.html#fe9c2ed1d10b10f9947c769816d3c74d" title="Returns a pointer to the buffer in use.">ptr</a>()[str_idx], str_num * <span class="keyword">sizeof</span>(utf32));
<a name="l01674"></a>01674                 setlen(d_cplength + str_num);
<a name="l01675"></a>01675                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01676"></a>01676         }
<a name="l01677"></a>01677 
<a name="l01678"></a>01678 
<a name="l01695"></a><a class="code" href="classCEGUI_1_1String.html#d6179c5f470f0bf676f878430abcb442">01695</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator+=(<span class="keyword">const</span> std::string&amp; std_str)
<a name="l01696"></a>01696         {
<a name="l01697"></a>01697                 <span class="keywordflow">return</span> append(std_str);
<a name="l01698"></a>01698         }
<a name="l01699"></a>01699 
<a name="l01723"></a><a class="code" href="classCEGUI_1_1String.html#d3e510bbba787cedc4a4777f7b94a950">01723</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; append(<span class="keyword">const</span> std::string&amp; std_str, size_type str_idx = 0, size_type str_num = npos)
<a name="l01724"></a>01724         {
<a name="l01725"></a>01725                 <span class="keywordflow">if</span> (std_str.size() &lt; str_idx)
<a name="l01726"></a>01726                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for std::string"</span>);
<a name="l01727"></a>01727 
<a name="l01728"></a>01728                 <span class="keywordflow">if</span> ((str_num == npos) || (str_num &gt; (size_type)std_str.size() - str_idx))
<a name="l01729"></a>01729                         str_num = (size_type)std_str.size() - str_idx;
<a name="l01730"></a>01730 
<a name="l01731"></a>01731                 size_type newsze = d_cplength + str_num;
<a name="l01732"></a>01732 
<a name="l01733"></a>01733                 grow(newsze);
<a name="l01734"></a>01734                 utf32* pt = &amp;ptr()[newsze-1];
<a name="l01735"></a>01735 
<a name="l01736"></a>01736                 <span class="keywordflow">while</span>(str_num--)
<a name="l01737"></a>01737                         *pt-- = <span class="keyword">static_cast&lt;</span>utf32<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(std_str[str_num]));
<a name="l01738"></a>01738 
<a name="l01739"></a>01739                 setlen(newsze);
<a name="l01740"></a>01740                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01741"></a>01741         }
<a name="l01742"></a>01742 
<a name="l01743"></a>01743 
<a name="l01762"></a><a class="code" href="classCEGUI_1_1String.html#2598f11abaae737c3f84ef3cf344bce0">01762</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator+=(<span class="keyword">const</span> utf8* utf8_str)
<a name="l01763"></a>01763         {
<a name="l01764"></a>01764                 <span class="keywordflow">return</span> append(utf8_str, utf_length(utf8_str));
<a name="l01765"></a>01765         }
<a name="l01766"></a>01766 
<a name="l01785"></a><a class="code" href="classCEGUI_1_1String.html#8c2e207e9dd9125bc2b846adf81d08c3">01785</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; append(<span class="keyword">const</span> utf8* utf8_str)
<a name="l01786"></a>01786         {
<a name="l01787"></a>01787                 <span class="keywordflow">return</span> append(utf8_str, utf_length(utf8_str));
<a name="l01788"></a>01788         }
<a name="l01789"></a>01789 
<a name="l01790"></a>01790 
<a name="l01812"></a><a class="code" href="classCEGUI_1_1String.html#b493060fa79dec018ba3cd18fc5e2216">01812</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; append(<span class="keyword">const</span> utf8* utf8_str, size_type len)
<a name="l01813"></a>01813         {
<a name="l01814"></a>01814                 <span class="keywordflow">if</span> (len == npos)
<a name="l01815"></a>01815                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l01816"></a>01816 
<a name="l01817"></a>01817                 size_type encsz = encoded_size(utf8_str, len);
<a name="l01818"></a>01818                 size_type newsz = d_cplength + encsz;
<a name="l01819"></a>01819 
<a name="l01820"></a>01820                 grow(newsz);
<a name="l01821"></a>01821                 encode(utf8_str, &amp;ptr()[d_cplength], encsz, len);
<a name="l01822"></a>01822                 setlen(newsz);
<a name="l01823"></a>01823 
<a name="l01824"></a>01824                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01825"></a>01825         }
<a name="l01826"></a>01826 
<a name="l01827"></a>01827 
<a name="l01840"></a><a class="code" href="classCEGUI_1_1String.html#f5a7039d134d25419fd6b1cbd3fa1066">01840</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator+=(utf32 code_point)
<a name="l01841"></a>01841         {
<a name="l01842"></a>01842                 <span class="keywordflow">return</span> append(1, code_point);
<a name="l01843"></a>01843         }
<a name="l01844"></a>01844 
<a name="l01860"></a><a class="code" href="classCEGUI_1_1String.html#38d498ff40b5979725a471a4f87714b3">01860</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; append(size_type num, utf32 code_point)
<a name="l01861"></a>01861         {
<a name="l01862"></a>01862                 <span class="keywordflow">if</span> (num == npos)
<a name="l01863"></a>01863                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Code point count can not be 'npos'"</span>);
<a name="l01864"></a>01864 
<a name="l01865"></a>01865                 size_type newsz = d_cplength + num;
<a name="l01866"></a>01866                 grow(newsz);
<a name="l01867"></a>01867 
<a name="l01868"></a>01868                 utf32* p = &amp;ptr()[d_cplength];
<a name="l01869"></a>01869 
<a name="l01870"></a>01870                 <span class="keywordflow">while</span>(num--)
<a name="l01871"></a>01871                         *p++ = code_point;
<a name="l01872"></a>01872 
<a name="l01873"></a>01873                 setlen(newsz);
<a name="l01874"></a>01874 
<a name="l01875"></a>01875                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01876"></a>01876         }
<a name="l01877"></a>01877 
<a name="l01890"></a><a class="code" href="classCEGUI_1_1String.html#d8e3aa5888ee449aa00bef6c6a1e1d2d">01890</a>         <span class="keywordtype">void</span>    push_back(utf32 code_point)
<a name="l01891"></a>01891         {
<a name="l01892"></a>01892                 append(1, code_point);
<a name="l01893"></a>01893         }
<a name="l01894"></a>01894 
<a name="l01910"></a><a class="code" href="classCEGUI_1_1String.html#469498c18e869c20df5d84440346653d">01910</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; append(<a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> iter_end)
<a name="l01911"></a>01911         {
<a name="l01912"></a>01912                 <span class="keywordflow">return</span> replace(end(), end(), iter_beg, iter_end);
<a name="l01913"></a>01913         }
<a name="l01914"></a>01914 
<a name="l01915"></a>01915 
<a name="l01928"></a><a class="code" href="classCEGUI_1_1String.html#4e4f43acecaedd83c7af280046aa4e04">01928</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; operator+=(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)
<a name="l01929"></a>01929         {
<a name="l01930"></a>01930                 <span class="keywordflow">return</span> append(cstr, strlen(cstr));
<a name="l01931"></a>01931         }
<a name="l01932"></a>01932 
<a name="l01933"></a>01933 
<a name="l01946"></a><a class="code" href="classCEGUI_1_1String.html#47751dc55854465de562cba86b525b1c">01946</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; append(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)
<a name="l01947"></a>01947         {
<a name="l01948"></a>01948                 <span class="keywordflow">return</span> append(cstr, strlen(cstr));
<a name="l01949"></a>01949         }
<a name="l01950"></a>01950 
<a name="l01951"></a>01951 
<a name="l01967"></a><a class="code" href="classCEGUI_1_1String.html#f2427c521c8db0a9f6251a9ee42db293">01967</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; append(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type chars_len)
<a name="l01968"></a>01968         {
<a name="l01969"></a>01969                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l01970"></a>01970                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for char array can not be 'npos'"</span>);
<a name="l01971"></a>01971 
<a name="l01972"></a>01972                 size_type newsz = d_cplength + chars_len;
<a name="l01973"></a>01973 
<a name="l01974"></a>01974                 grow(newsz);
<a name="l01975"></a>01975 
<a name="l01976"></a>01976                 utf32* pt = &amp;ptr()[newsz-1];
<a name="l01977"></a>01977 
<a name="l01978"></a>01978                 <span class="keywordflow">while</span>(chars_len--)
<a name="l01979"></a>01979                         *pt-- = <span class="keyword">static_cast&lt;</span>utf32<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(chars[chars_len]));
<a name="l01980"></a>01980 
<a name="l01981"></a>01981                 setlen(newsz);
<a name="l01982"></a>01982 
<a name="l01983"></a>01983                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01984"></a>01984         }
<a name="l01985"></a>01985 
<a name="l01986"></a>01986 
<a name="l01988"></a>01988         <span class="comment">// Insertion Functions</span>
<a name="l01990"></a>01990 <span class="comment"></span>
<a name="l02006"></a><a class="code" href="classCEGUI_1_1String.html#3810f39ae49099e582da7f1f136498c8">02006</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; insert(size_type idx, <span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str)
<a name="l02007"></a>02007         {
<a name="l02008"></a>02008                 <span class="keywordflow">return</span> insert(idx, str, 0, npos);
<a name="l02009"></a>02009         }
<a name="l02010"></a>02010 
<a name="l02033"></a><a class="code" href="classCEGUI_1_1String.html#730d598b8697d756f27a5bf8dd06a771">02033</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; insert(size_type idx, <span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type str_idx, size_type str_num)
<a name="l02034"></a>02034         {
<a name="l02035"></a>02035                 <span class="keywordflow">if</span> ((d_cplength &lt; idx) || (str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> &lt; str_idx))
<a name="l02036"></a>02036                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l02037"></a>02037 
<a name="l02038"></a>02038                 <span class="keywordflow">if</span> ((str_num == npos) || (str_num &gt; str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> - str_idx))
<a name="l02039"></a>02039                         str_num = str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> - str_idx;
<a name="l02040"></a>02040 
<a name="l02041"></a>02041                 size_type newsz = d_cplength + str_num;
<a name="l02042"></a>02042                 grow(newsz);
<a name="l02043"></a>02043                 memmove(&amp;ptr()[idx + str_num], &amp;ptr()[idx], (d_cplength - idx) * <span class="keyword">sizeof</span>(utf32));
<a name="l02044"></a>02044                 memcpy(&amp;ptr()[idx], &amp;str.<a class="code" href="classCEGUI_1_1String.html#fe9c2ed1d10b10f9947c769816d3c74d" title="Returns a pointer to the buffer in use.">ptr</a>()[str_idx], str_num * <span class="keyword">sizeof</span>(utf32));
<a name="l02045"></a>02045                 setlen(newsz);
<a name="l02046"></a>02046 
<a name="l02047"></a>02047                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02048"></a>02048         }
<a name="l02049"></a>02049 
<a name="l02070"></a><a class="code" href="classCEGUI_1_1String.html#21557f12e49792869be4f5af0ccf54bb">02070</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; insert(size_type idx, <span class="keyword">const</span> std::string&amp; std_str)
<a name="l02071"></a>02071         {
<a name="l02072"></a>02072                 <span class="keywordflow">return</span> insert(idx, std_str, 0, npos);
<a name="l02073"></a>02073         }
<a name="l02074"></a>02074 
<a name="l02101"></a><a class="code" href="classCEGUI_1_1String.html#0a93d4eed51383e87bd59f6ac9fb7539">02101</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; insert(size_type idx, <span class="keyword">const</span> std::string&amp; std_str, size_type str_idx, size_type str_num)
<a name="l02102"></a>02102         {
<a name="l02103"></a>02103                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l02104"></a>02104                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l02105"></a>02105 
<a name="l02106"></a>02106                 <span class="keywordflow">if</span> (std_str.size() &lt; str_idx)
<a name="l02107"></a>02107                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for std::string"</span>);
<a name="l02108"></a>02108 
<a name="l02109"></a>02109                 <span class="keywordflow">if</span> ((str_num == npos) || (str_num &gt; (size_type)std_str.size() - str_idx))
<a name="l02110"></a>02110                         str_num = (size_type)std_str.size() - str_idx;
<a name="l02111"></a>02111 
<a name="l02112"></a>02112                 size_type newsz = d_cplength + str_num;
<a name="l02113"></a>02113                 grow(newsz);
<a name="l02114"></a>02114 
<a name="l02115"></a>02115                 memmove(&amp;ptr()[idx + str_num], &amp;ptr()[idx], (d_cplength - idx) * <span class="keyword">sizeof</span>(utf32));
<a name="l02116"></a>02116 
<a name="l02117"></a>02117                 utf32* pt = &amp;ptr()[idx + str_num - 1];
<a name="l02118"></a>02118 
<a name="l02119"></a>02119                 <span class="keywordflow">while</span>(str_num--)
<a name="l02120"></a>02120                         *pt-- = <span class="keyword">static_cast&lt;</span>utf32<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(std_str[str_idx + str_num]));
<a name="l02121"></a>02121 
<a name="l02122"></a>02122                 setlen(newsz);
<a name="l02123"></a>02123 
<a name="l02124"></a>02124                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02125"></a>02125         }
<a name="l02126"></a>02126 
<a name="l02149"></a><a class="code" href="classCEGUI_1_1String.html#ebfcd39547a0e8dd0f9ec1d6058428ba">02149</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; insert(size_type idx, <span class="keyword">const</span> utf8* utf8_str)
<a name="l02150"></a>02150         {
<a name="l02151"></a>02151                 <span class="keywordflow">return</span> insert(idx, utf8_str, utf_length(utf8_str));
<a name="l02152"></a>02152         }
<a name="l02153"></a>02153 
<a name="l02179"></a><a class="code" href="classCEGUI_1_1String.html#ec62f54d947728ebf23d3e9705df3810">02179</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; insert(size_type idx, <span class="keyword">const</span> utf8* utf8_str, size_type len)
<a name="l02180"></a>02180         {
<a name="l02181"></a>02181                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l02182"></a>02182                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l02183"></a>02183 
<a name="l02184"></a>02184                 <span class="keywordflow">if</span> (len == npos)
<a name="l02185"></a>02185                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length of utf8 encoded string can not be 'npos'"</span>);
<a name="l02186"></a>02186 
<a name="l02187"></a>02187                 size_type encsz = encoded_size(utf8_str, len);
<a name="l02188"></a>02188                 size_type newsz = d_cplength + encsz;
<a name="l02189"></a>02189 
<a name="l02190"></a>02190                 grow(newsz);
<a name="l02191"></a>02191                 memmove(&amp;ptr()[idx + encsz], &amp;ptr()[idx], (d_cplength - idx) * <span class="keyword">sizeof</span>(utf32));
<a name="l02192"></a>02192                 encode(utf8_str, &amp;ptr()[idx], encsz, len);
<a name="l02193"></a>02193                 setlen(newsz);
<a name="l02194"></a>02194 
<a name="l02195"></a>02195                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02196"></a>02196         }
<a name="l02197"></a>02197 
<a name="l02217"></a><a class="code" href="classCEGUI_1_1String.html#3e5174421a0149d819f223297f285115">02217</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; insert(size_type idx, size_type num, utf32 code_point)
<a name="l02218"></a>02218         {
<a name="l02219"></a>02219                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l02220"></a>02220                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l02221"></a>02221 
<a name="l02222"></a>02222                 <span class="keywordflow">if</span> (num == npos)
<a name="l02223"></a>02223                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Code point count can not be 'npos'"</span>);
<a name="l02224"></a>02224 
<a name="l02225"></a>02225                 size_type newsz = d_cplength + num;
<a name="l02226"></a>02226                 grow(newsz);
<a name="l02227"></a>02227 
<a name="l02228"></a>02228                 memmove(&amp;ptr()[idx + num], &amp;ptr()[idx], (d_cplength - idx) * <span class="keyword">sizeof</span>(utf32));
<a name="l02229"></a>02229 
<a name="l02230"></a>02230                 utf32* pt = &amp;ptr()[idx + num - 1];
<a name="l02231"></a>02231 
<a name="l02232"></a>02232                 <span class="keywordflow">while</span>(num--)
<a name="l02233"></a>02233                         *pt-- = code_point;
<a name="l02234"></a>02234 
<a name="l02235"></a>02235                 setlen(newsz);
<a name="l02236"></a>02236 
<a name="l02237"></a>02237                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02238"></a>02238         }
<a name="l02239"></a>02239 
<a name="l02258"></a><a class="code" href="classCEGUI_1_1String.html#207af5fe15261ed9ca86b6bc5c844528">02258</a>         <span class="keywordtype">void</span> insert(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> pos, size_type num, utf32 code_point)
<a name="l02259"></a>02259         {
<a name="l02260"></a>02260                 insert(safe_iter_dif(pos, begin()), num, code_point);
<a name="l02261"></a>02261         }
<a name="l02262"></a>02262 
<a name="l02278"></a><a class="code" href="classCEGUI_1_1String.html#e77080827a71c09e9595c20af7cdf7ad">02278</a>         <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> insert(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> pos, utf32 code_point)
<a name="l02279"></a>02279         {
<a name="l02280"></a>02280                 insert(pos, 1, code_point);
<a name="l02281"></a>02281                 <span class="keywordflow">return</span> pos;
<a name="l02282"></a>02282         }
<a name="l02283"></a>02283 
<a name="l02302"></a><a class="code" href="classCEGUI_1_1String.html#d9284e11e754d54de9d7ed8fb5271de1">02302</a>         <span class="keywordtype">void</span>    insert(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_pos, <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> iter_end)
<a name="l02303"></a>02303         {
<a name="l02304"></a>02304                 replace(iter_pos, iter_pos, iter_beg, iter_end);
<a name="l02305"></a>02305         }
<a name="l02306"></a>02306 
<a name="l02307"></a>02307 
<a name="l02324"></a><a class="code" href="classCEGUI_1_1String.html#eb310603f210bc0fef55103b619915f4">02324</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; insert(size_type idx, <span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)
<a name="l02325"></a>02325         {
<a name="l02326"></a>02326                 <span class="keywordflow">return</span> insert(idx, cstr, strlen(cstr));
<a name="l02327"></a>02327         }
<a name="l02328"></a>02328 
<a name="l02329"></a>02329 
<a name="l02349"></a><a class="code" href="classCEGUI_1_1String.html#61fe9d73e651e4dd230ac227aa17d2ef">02349</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; insert(size_type idx, <span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type chars_len)
<a name="l02350"></a>02350         {
<a name="l02351"></a>02351                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l02352"></a>02352                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l02353"></a>02353 
<a name="l02354"></a>02354                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l02355"></a>02355                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length of char array can not be 'npos'"</span>);
<a name="l02356"></a>02356 
<a name="l02357"></a>02357                 size_type newsz = d_cplength + chars_len;
<a name="l02358"></a>02358 
<a name="l02359"></a>02359                 grow(newsz);
<a name="l02360"></a>02360                 memmove(&amp;ptr()[idx + chars_len], &amp;ptr()[idx], (d_cplength - idx) * <span class="keyword">sizeof</span>(utf32));
<a name="l02361"></a>02361 
<a name="l02362"></a>02362                 utf32* pt = &amp;ptr()[idx + chars_len - 1];
<a name="l02363"></a>02363 
<a name="l02364"></a>02364                 <span class="keywordflow">while</span>(chars_len--)
<a name="l02365"></a>02365                         *pt-- = <span class="keyword">static_cast&lt;</span>utf32<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(chars[chars_len]));
<a name="l02366"></a>02366 
<a name="l02367"></a>02367                 setlen(newsz);
<a name="l02368"></a>02368 
<a name="l02369"></a>02369                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02370"></a>02370         }
<a name="l02371"></a>02371 
<a name="l02372"></a>02372 
<a name="l02374"></a>02374         <span class="comment">// Erasing characters</span>
<a name="l02376"></a>02376 <span class="comment"></span>
<a name="l02383"></a><a class="code" href="classCEGUI_1_1String.html#cc0d82a7d7077eaf868677610397d138">02383</a>         <span class="keywordtype">void</span>    clear(<span class="keywordtype">void</span>)
<a name="l02384"></a>02384         {
<a name="l02385"></a>02385                 setlen(0);
<a name="l02386"></a>02386                 trim();
<a name="l02387"></a>02387         }
<a name="l02388"></a>02388 
<a name="l02396"></a><a class="code" href="classCEGUI_1_1String.html#5b514f1a4c791771af0dbdb1a89f9967">02396</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; erase(<span class="keywordtype">void</span>)
<a name="l02397"></a>02397         {
<a name="l02398"></a>02398                 clear();
<a name="l02399"></a>02399                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02400"></a>02400         }
<a name="l02401"></a>02401 
<a name="l02414"></a><a class="code" href="classCEGUI_1_1String.html#d487d051162162be235bc58594128766">02414</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; erase(size_type idx)
<a name="l02415"></a>02415         {
<a name="l02416"></a>02416                 <span class="keywordflow">return</span> erase(idx, 1);
<a name="l02417"></a>02417         }
<a name="l02418"></a>02418 
<a name="l02434"></a><a class="code" href="classCEGUI_1_1String.html#8a8f88303d4e6f779f316dce578bd141">02434</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; erase(size_type idx, size_type len = npos)
<a name="l02435"></a>02435         {
<a name="l02436"></a>02436                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l02437"></a>02437                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range foe CEGUI::String"</span>);
<a name="l02438"></a>02438 
<a name="l02439"></a>02439                 <span class="keywordflow">if</span> (len == npos)
<a name="l02440"></a>02440                         len = d_cplength - idx;
<a name="l02441"></a>02441 
<a name="l02442"></a>02442                 size_type newsz = d_cplength - len;
<a name="l02443"></a>02443 
<a name="l02444"></a>02444                 memmove(&amp;ptr()[idx], &amp;ptr()[idx + len], (d_cplength - idx - len) * <span class="keyword">sizeof</span>(utf32));
<a name="l02445"></a>02445                 setlen(newsz);
<a name="l02446"></a>02446                 <span class="keywordflow">return</span>  *<span class="keyword">this</span>;
<a name="l02447"></a>02447         }
<a name="l02448"></a>02448 
<a name="l02459"></a><a class="code" href="classCEGUI_1_1String.html#1eeb9394132a7c69cae93b10458b9db4">02459</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; erase(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> pos)
<a name="l02460"></a>02460         {
<a name="l02461"></a>02461                 <span class="keywordflow">return</span> erase(safe_iter_dif(pos, begin()), 1);
<a name="l02462"></a>02462         }
<a name="l02463"></a>02463 
<a name="l02477"></a><a class="code" href="classCEGUI_1_1String.html#cf48df8b5f825472644ed8405747405d">02477</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; erase(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_end)
<a name="l02478"></a>02478         {
<a name="l02479"></a>02479                 <span class="keywordflow">return</span> erase(safe_iter_dif(iter_beg, begin()), safe_iter_dif(iter_end, iter_beg));
<a name="l02480"></a>02480         }
<a name="l02481"></a>02481 
<a name="l02483"></a>02483         <span class="comment">// Resizing</span>
<a name="l02485"></a>02485 <span class="comment"></span>
<a name="l02497"></a><a class="code" href="classCEGUI_1_1String.html#58c4e6c1c248bc0f129e0d5e2dfc55ef">02497</a>         <span class="keywordtype">void</span>    resize(size_type num)
<a name="l02498"></a>02498         {
<a name="l02499"></a>02499                 resize(num, utf32());
<a name="l02500"></a>02500         }
<a name="l02501"></a>02501 
<a name="l02517"></a><a class="code" href="classCEGUI_1_1String.html#53cd8603010eada6316c913ff141584d">02517</a>         <span class="keywordtype">void</span>    resize(size_type num, utf32 code_point)
<a name="l02518"></a>02518         {
<a name="l02519"></a>02519                 <span class="keywordflow">if</span> (num &lt; d_cplength)
<a name="l02520"></a>02520                 {
<a name="l02521"></a>02521                         setlen(num);
<a name="l02522"></a>02522                 }
<a name="l02523"></a>02523                 <span class="keywordflow">else</span>
<a name="l02524"></a>02524                 {
<a name="l02525"></a>02525                         append(num - d_cplength, code_point);
<a name="l02526"></a>02526                 }
<a name="l02527"></a>02527 
<a name="l02528"></a>02528         }
<a name="l02529"></a>02529 
<a name="l02531"></a>02531         <span class="comment">// Replacing Characters</span>
<a name="l02533"></a>02533 <span class="comment"></span>
<a name="l02552"></a><a class="code" href="classCEGUI_1_1String.html#a57c5f6d1d8b19c0a62b7b7fbd166d4d">02552</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(size_type idx, size_type len, <span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str)
<a name="l02553"></a>02553         {
<a name="l02554"></a>02554                 <span class="keywordflow">return</span> replace(idx, len, str, 0, npos);
<a name="l02555"></a>02555         }
<a name="l02556"></a>02556 
<a name="l02578"></a><a class="code" href="classCEGUI_1_1String.html#d722549446f48fb735ec04c10652ee86">02578</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_end, <span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str)
<a name="l02579"></a>02579         {
<a name="l02580"></a>02580                 <span class="keywordflow">return</span> replace(safe_iter_dif(iter_beg, begin()), safe_iter_dif(iter_end, iter_beg), str, 0, npos);
<a name="l02581"></a>02581         }
<a name="l02582"></a>02582 
<a name="l02608"></a><a class="code" href="classCEGUI_1_1String.html#2da5368b73bdc0a8c36d02811b78e837">02608</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(size_type idx, size_type len, <span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type str_idx, size_type str_num)
<a name="l02609"></a>02609         {
<a name="l02610"></a>02610                 <span class="keywordflow">if</span> ((d_cplength &lt; idx) || (str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> &lt; str_idx))
<a name="l02611"></a>02611                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l02612"></a>02612 
<a name="l02613"></a>02613                 <span class="keywordflow">if</span> (((str_idx + str_num) &gt; str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a>) || (str_num == npos))
<a name="l02614"></a>02614                         str_num = str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> - str_idx;
<a name="l02615"></a>02615 
<a name="l02616"></a>02616                 <span class="keywordflow">if</span> (((len + idx) &gt; d_cplength) || (len == npos))
<a name="l02617"></a>02617                         len = d_cplength - idx;
<a name="l02618"></a>02618 
<a name="l02619"></a>02619                 size_type newsz = d_cplength + str_num - len;
<a name="l02620"></a>02620 
<a name="l02621"></a>02621                 grow(newsz);
<a name="l02622"></a>02622 
<a name="l02623"></a>02623                 <span class="keywordflow">if</span> ((idx + len) &lt; d_cplength)
<a name="l02624"></a>02624                         memmove(&amp;ptr()[idx + str_num], &amp;ptr()[len + idx], (d_cplength - idx - len) * <span class="keyword">sizeof</span>(utf32));
<a name="l02625"></a>02625 
<a name="l02626"></a>02626                 memcpy(&amp;ptr()[idx], &amp;str.<a class="code" href="classCEGUI_1_1String.html#fe9c2ed1d10b10f9947c769816d3c74d" title="Returns a pointer to the buffer in use.">ptr</a>()[str_idx], str_num * <span class="keyword">sizeof</span>(utf32));
<a name="l02627"></a>02627                 setlen(newsz);
<a name="l02628"></a>02628 
<a name="l02629"></a>02629                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02630"></a>02630         }
<a name="l02631"></a>02631 
<a name="l02632"></a>02632 
<a name="l02656"></a><a class="code" href="classCEGUI_1_1String.html#4fb1b1bc73fc26dfcd8174564a9f3de0">02656</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(size_type idx, size_type len, <span class="keyword">const</span> std::string&amp; std_str)
<a name="l02657"></a>02657         {
<a name="l02658"></a>02658                 <span class="keywordflow">return</span> replace(idx, len, std_str, 0, npos);
<a name="l02659"></a>02659         }
<a name="l02660"></a>02660 
<a name="l02686"></a><a class="code" href="classCEGUI_1_1String.html#b624ddd472bc88a10cdfb1e2bada9ce9">02686</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_end, <span class="keyword">const</span> std::string&amp; std_str)
<a name="l02687"></a>02687         {
<a name="l02688"></a>02688                 <span class="keywordflow">return</span> replace(safe_iter_dif(iter_beg, begin()), safe_iter_dif(iter_end, iter_beg), std_str, 0, npos);
<a name="l02689"></a>02689         }
<a name="l02690"></a>02690 
<a name="l02720"></a><a class="code" href="classCEGUI_1_1String.html#6d477daf02aae4598aa42da309e84829">02720</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(size_type idx, size_type len, <span class="keyword">const</span> std::string&amp; std_str, size_type str_idx, size_type str_num)
<a name="l02721"></a>02721         {
<a name="l02722"></a>02722                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l02723"></a>02723                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l02724"></a>02724 
<a name="l02725"></a>02725                 <span class="keywordflow">if</span> (std_str.size() &lt; str_idx)
<a name="l02726"></a>02726                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for std::string"</span>);
<a name="l02727"></a>02727 
<a name="l02728"></a>02728                 <span class="keywordflow">if</span> (((str_idx + str_num) &gt; std_str.size()) || (str_num == npos))
<a name="l02729"></a>02729                         str_num = (size_type)std_str.size() - str_idx;
<a name="l02730"></a>02730 
<a name="l02731"></a>02731                 <span class="keywordflow">if</span> (((len + idx) &gt; d_cplength) || (len == npos))
<a name="l02732"></a>02732                         len = d_cplength - idx;
<a name="l02733"></a>02733 
<a name="l02734"></a>02734                 size_type newsz = d_cplength + str_num - len;
<a name="l02735"></a>02735 
<a name="l02736"></a>02736                 grow(newsz);
<a name="l02737"></a>02737 
<a name="l02738"></a>02738                 <span class="keywordflow">if</span> ((idx + len) &lt; d_cplength)
<a name="l02739"></a>02739                         memmove(&amp;ptr()[idx + str_num], &amp;ptr()[len + idx], (d_cplength - idx - len) * <span class="keyword">sizeof</span>(utf32));
<a name="l02740"></a>02740 
<a name="l02741"></a>02741                 utf32* pt = &amp;ptr()[idx + str_num - 1];
<a name="l02742"></a>02742 
<a name="l02743"></a>02743                 <span class="keywordflow">while</span> (str_num--)
<a name="l02744"></a>02744                         *pt-- = <span class="keyword">static_cast&lt;</span>utf32<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(std_str[str_idx + str_num]));
<a name="l02745"></a>02745 
<a name="l02746"></a>02746                 setlen(newsz);
<a name="l02747"></a>02747 
<a name="l02748"></a>02748                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02749"></a>02749         }
<a name="l02750"></a>02750 
<a name="l02751"></a>02751 
<a name="l02777"></a><a class="code" href="classCEGUI_1_1String.html#15f2f5dc63692f75a87396d7c895c81b">02777</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(size_type idx, size_type len, <span class="keyword">const</span> utf8* utf8_str)
<a name="l02778"></a>02778         {
<a name="l02779"></a>02779                 <span class="keywordflow">return</span> replace(idx, len, utf8_str, utf_length(utf8_str));
<a name="l02780"></a>02780         }
<a name="l02781"></a>02781 
<a name="l02809"></a><a class="code" href="classCEGUI_1_1String.html#945da370bd93eeca47b610dbe15e0810">02809</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_end, <span class="keyword">const</span> utf8* utf8_str)
<a name="l02810"></a>02810         {
<a name="l02811"></a>02811                 <span class="keywordflow">return</span> replace(iter_beg, iter_end, utf8_str, utf_length(utf8_str));
<a name="l02812"></a>02812         }
<a name="l02813"></a>02813 
<a name="l02842"></a><a class="code" href="classCEGUI_1_1String.html#c41316694d8fcc12739d8f1656dfc009">02842</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(size_type idx, size_type len, <span class="keyword">const</span> utf8* utf8_str, size_type str_len)
<a name="l02843"></a>02843         {
<a name="l02844"></a>02844                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l02845"></a>02845                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l02846"></a>02846 
<a name="l02847"></a>02847                 <span class="keywordflow">if</span> (str_len == npos)
<a name="l02848"></a>02848                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l02849"></a>02849 
<a name="l02850"></a>02850                 <span class="keywordflow">if</span> (((len + idx) &gt; d_cplength) || (len == npos))
<a name="l02851"></a>02851                         len = d_cplength - idx;
<a name="l02852"></a>02852 
<a name="l02853"></a>02853                 size_type encsz = encoded_size(utf8_str, str_len);
<a name="l02854"></a>02854                 size_type newsz = d_cplength + encsz - len;
<a name="l02855"></a>02855 
<a name="l02856"></a>02856                 grow(newsz);
<a name="l02857"></a>02857 
<a name="l02858"></a>02858                 <span class="keywordflow">if</span> ((idx + len) &lt; d_cplength)
<a name="l02859"></a>02859                         memmove(&amp;ptr()[idx + encsz], &amp;ptr()[len + idx], (d_cplength - idx - len) * <span class="keyword">sizeof</span>(utf32));
<a name="l02860"></a>02860 
<a name="l02861"></a>02861                 encode(utf8_str, &amp;ptr()[idx], encsz, str_len);
<a name="l02862"></a>02862 
<a name="l02863"></a>02863                 setlen(newsz);
<a name="l02864"></a>02864                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02865"></a>02865         }
<a name="l02866"></a>02866 
<a name="l02897"></a><a class="code" href="classCEGUI_1_1String.html#05b934ba4b16d045a9cc51db8737bc95">02897</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_end, <span class="keyword">const</span> utf8* utf8_str, size_type str_len)
<a name="l02898"></a>02898         {
<a name="l02899"></a>02899                 <span class="keywordflow">return</span> replace(safe_iter_dif(iter_beg, begin()), safe_iter_dif(iter_end, iter_beg), utf8_str, str_len);
<a name="l02900"></a>02900         }
<a name="l02901"></a>02901 
<a name="l02924"></a><a class="code" href="classCEGUI_1_1String.html#1cced75cf8c64e917332d4d36bd42b0b">02924</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(size_type idx, size_type len, size_type num, utf32 code_point)
<a name="l02925"></a>02925         {
<a name="l02926"></a>02926                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l02927"></a>02927                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l02928"></a>02928 
<a name="l02929"></a>02929                 <span class="keywordflow">if</span> (num == npos)
<a name="l02930"></a>02930                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Code point count can not be 'npos'"</span>);
<a name="l02931"></a>02931 
<a name="l02932"></a>02932                 <span class="keywordflow">if</span> (((len + idx) &gt; d_cplength) || (len == npos))
<a name="l02933"></a>02933                         len = d_cplength - idx;
<a name="l02934"></a>02934 
<a name="l02935"></a>02935                 size_type newsz = d_cplength + num - len;
<a name="l02936"></a>02936 
<a name="l02937"></a>02937                 grow(newsz);
<a name="l02938"></a>02938 
<a name="l02939"></a>02939                 <span class="keywordflow">if</span> ((idx + len) &lt; d_cplength)
<a name="l02940"></a>02940                         memmove(&amp;ptr()[idx + num], &amp;ptr()[len + idx], (d_cplength - idx - len) * <span class="keyword">sizeof</span>(utf32));
<a name="l02941"></a>02941 
<a name="l02942"></a>02942                 utf32* pt = &amp;ptr()[idx + num - 1];
<a name="l02943"></a>02943 
<a name="l02944"></a>02944                 <span class="keywordflow">while</span> (num--)
<a name="l02945"></a>02945                         *pt-- = code_point;
<a name="l02946"></a>02946 
<a name="l02947"></a>02947                 setlen(newsz);
<a name="l02948"></a>02948 
<a name="l02949"></a>02949                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02950"></a>02950         }
<a name="l02951"></a>02951 
<a name="l02976"></a><a class="code" href="classCEGUI_1_1String.html#4a959846faeb340003a429c229df345a">02976</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_end, size_type num, utf32 code_point)
<a name="l02977"></a>02977         {
<a name="l02978"></a>02978                 <span class="keywordflow">return</span> replace(safe_iter_dif(iter_beg, begin()), safe_iter_dif(iter_end, iter_beg), num, code_point);
<a name="l02979"></a>02979         }
<a name="l02980"></a>02980 
<a name="l02981"></a>02981 
<a name="l03006"></a><a class="code" href="classCEGUI_1_1String.html#3e01049fa9f7d8821a5b9d48bf795190">03006</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_end, <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> iter_newBeg, <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a> iter_newEnd)
<a name="l03007"></a>03007         {
<a name="l03008"></a>03008                 <span class="keywordflow">if</span> (iter_beg == iter_end)
<a name="l03009"></a>03009                 {
<a name="l03010"></a>03010                         erase(safe_iter_dif(iter_beg, begin()), safe_iter_dif(iter_end, iter_beg));
<a name="l03011"></a>03011                 }
<a name="l03012"></a>03012                 <span class="keywordflow">else</span>
<a name="l03013"></a>03013                 {
<a name="l03014"></a>03014                         size_type str_len = safe_iter_dif(iter_newEnd, iter_newBeg);
<a name="l03015"></a>03015                         size_type idx = safe_iter_dif(iter_beg, begin());
<a name="l03016"></a>03016                         size_type len = safe_iter_dif(iter_end, iter_beg);
<a name="l03017"></a>03017 
<a name="l03018"></a>03018                         <span class="keywordflow">if</span> ((len + idx) &gt; d_cplength)
<a name="l03019"></a>03019                                 len = d_cplength - idx;
<a name="l03020"></a>03020 
<a name="l03021"></a>03021                         size_type newsz = d_cplength + str_len - len;
<a name="l03022"></a>03022 
<a name="l03023"></a>03023                         grow(newsz);
<a name="l03024"></a>03024 
<a name="l03025"></a>03025                         <span class="keywordflow">if</span> ((idx + len) &lt; d_cplength)
<a name="l03026"></a>03026                                 memmove(&amp;ptr()[idx + str_len], &amp;ptr()[len + idx], (d_cplength - idx - len) * <span class="keyword">sizeof</span>(utf32));
<a name="l03027"></a>03027 
<a name="l03028"></a>03028                         memcpy(&amp;ptr()[idx], iter_newBeg.<a class="code" href="classCEGUI_1_1String_1_1const__iterator.html#eef651b52c0ed3c2792b9ed8414a13c1">d_ptr</a>, str_len * <span class="keyword">sizeof</span>(utf32));
<a name="l03029"></a>03029                         setlen(newsz);
<a name="l03030"></a>03030                 }
<a name="l03031"></a>03031 
<a name="l03032"></a>03032                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l03033"></a>03033         }
<a name="l03034"></a>03034 
<a name="l03035"></a>03035 
<a name="l03055"></a><a class="code" href="classCEGUI_1_1String.html#ffae3033fafdc7b5afa63661bec3f879">03055</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(size_type idx, size_type len, <span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)
<a name="l03056"></a>03056         {
<a name="l03057"></a>03057                 <span class="keywordflow">return</span> replace(idx, len, cstr, strlen(cstr));
<a name="l03058"></a>03058         }
<a name="l03059"></a>03059 
<a name="l03060"></a>03060 
<a name="l03082"></a><a class="code" href="classCEGUI_1_1String.html#ea1daba09aac6a4bf49f8a44acd063fa">03082</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_end, <span class="keyword">const</span> <span class="keywordtype">char</span>* cstr)
<a name="l03083"></a>03083         {
<a name="l03084"></a>03084                 <span class="keywordflow">return</span> replace(iter_beg, iter_end, cstr, strlen(cstr));
<a name="l03085"></a>03085         }
<a name="l03086"></a>03086 
<a name="l03087"></a>03087 
<a name="l03110"></a><a class="code" href="classCEGUI_1_1String.html#a7f7604309c5c34bf153fda91fbea7fd">03110</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(size_type idx, size_type len, <span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type chars_len)
<a name="l03111"></a>03111         {
<a name="l03112"></a>03112                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l03113"></a>03113                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for CEGUI::String"</span>);
<a name="l03114"></a>03114 
<a name="l03115"></a>03115                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l03116"></a>03116                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for the char array can not be 'npos'"</span>);
<a name="l03117"></a>03117 
<a name="l03118"></a>03118                 <span class="keywordflow">if</span> (((len + idx) &gt; d_cplength) || (len == npos))
<a name="l03119"></a>03119                         len = d_cplength - idx;
<a name="l03120"></a>03120 
<a name="l03121"></a>03121                 size_type newsz = d_cplength + chars_len - len;
<a name="l03122"></a>03122 
<a name="l03123"></a>03123                 grow(newsz);
<a name="l03124"></a>03124 
<a name="l03125"></a>03125                 <span class="keywordflow">if</span> ((idx + len) &lt; d_cplength)
<a name="l03126"></a>03126                         memmove(&amp;ptr()[idx + chars_len], &amp;ptr()[len + idx], (d_cplength - idx - len) * <span class="keyword">sizeof</span>(utf32));
<a name="l03127"></a>03127 
<a name="l03128"></a>03128                 utf32* pt = &amp;ptr()[idx + chars_len - 1];
<a name="l03129"></a>03129 
<a name="l03130"></a>03130                 <span class="keywordflow">while</span> (chars_len--)
<a name="l03131"></a>03131                         *pt-- = <span class="keyword">static_cast&lt;</span>utf32<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(chars[chars_len]));
<a name="l03132"></a>03132 
<a name="l03133"></a>03133                 setlen(newsz);
<a name="l03134"></a>03134                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l03135"></a>03135         }
<a name="l03136"></a>03136 
<a name="l03137"></a>03137 
<a name="l03162"></a><a class="code" href="classCEGUI_1_1String.html#6de86f3baaf8066e17900b45d4460ef6">03162</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; replace(<a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_beg, <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a> iter_end, <span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type chars_len)
<a name="l03163"></a>03163         {
<a name="l03164"></a>03164                 <span class="keywordflow">return</span> replace(safe_iter_dif(iter_beg, begin()), safe_iter_dif(iter_end, iter_beg), chars, chars_len);
<a name="l03165"></a>03165         }
<a name="l03166"></a>03166 
<a name="l03167"></a>03167 
<a name="l03169"></a>03169         <span class="comment">// Find a code point</span>
<a name="l03171"></a>03171 <span class="comment"></span>
<a name="l03185"></a><a class="code" href="classCEGUI_1_1String.html#6d704323613c75d3ca6e881ed01bfa75">03185</a>         size_type       find(utf32 code_point, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03186"></a>03186 <span class="keyword">        </span>{
<a name="l03187"></a>03187                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03188"></a>03188                 {
<a name="l03189"></a>03189                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l03190"></a>03190 
<a name="l03191"></a>03191                         <span class="keywordflow">while</span> (idx &lt; d_cplength)
<a name="l03192"></a>03192                         {
<a name="l03193"></a>03193                                 <span class="keywordflow">if</span> (*pt++ == code_point)
<a name="l03194"></a>03194                                         <span class="keywordflow">return</span> idx;
<a name="l03195"></a>03195 
<a name="l03196"></a>03196                                 ++idx;
<a name="l03197"></a>03197                         }
<a name="l03198"></a>03198 
<a name="l03199"></a>03199                 }
<a name="l03200"></a>03200 
<a name="l03201"></a>03201                 <span class="keywordflow">return</span> npos;
<a name="l03202"></a>03202         }
<a name="l03203"></a>03203 
<a name="l03218"></a><a class="code" href="classCEGUI_1_1String.html#c852ac4cb4911e709ba8dfe93be0c5d6">03218</a>         size_type       rfind(utf32 code_point, size_type idx = npos)<span class="keyword"> const</span>
<a name="l03219"></a>03219 <span class="keyword">        </span>{
<a name="l03220"></a>03220                 <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l03221"></a>03221                         idx = d_cplength - 1;
<a name="l03222"></a>03222 
<a name="l03223"></a>03223                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l03224"></a>03224                 {
<a name="l03225"></a>03225                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l03226"></a>03226 
<a name="l03227"></a>03227                         <span class="keywordflow">do</span>
<a name="l03228"></a>03228                         {
<a name="l03229"></a>03229                                 <span class="keywordflow">if</span> (*pt-- == code_point)
<a name="l03230"></a>03230                                         <span class="keywordflow">return</span> idx;
<a name="l03231"></a>03231 
<a name="l03232"></a>03232                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l03233"></a>03233 
<a name="l03234"></a>03234                 }
<a name="l03235"></a>03235 
<a name="l03236"></a>03236                 <span class="keywordflow">return</span> npos;
<a name="l03237"></a>03237         }
<a name="l03238"></a>03238 
<a name="l03240"></a>03240         <span class="comment">// Find a substring</span>
<a name="l03242"></a>03242 <span class="comment"></span>
<a name="l03256"></a><a class="code" href="classCEGUI_1_1String.html#78ee77b1ad8afc0c6be893e83aaf9b7d">03256</a>         size_type       find(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03257"></a>03257 <span class="keyword">        </span>{
<a name="l03258"></a>03258                 <span class="keywordflow">if</span> ((str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> == 0) &amp;&amp; (idx &lt; d_cplength))
<a name="l03259"></a>03259                         <span class="keywordflow">return</span> idx;
<a name="l03260"></a>03260 
<a name="l03261"></a>03261                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03262"></a>03262                 {
<a name="l03263"></a>03263                         <span class="comment">// loop while search string could fit in to search area</span>
<a name="l03264"></a>03264                         <span class="keywordflow">while</span> (d_cplength - idx &gt;= str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a>)
<a name="l03265"></a>03265                         {
<a name="l03266"></a>03266                                 <span class="keywordflow">if</span> (0 == compare(idx, str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a>, str))
<a name="l03267"></a>03267                                         <span class="keywordflow">return</span> idx;
<a name="l03268"></a>03268 
<a name="l03269"></a>03269                                 ++idx;
<a name="l03270"></a>03270                         }
<a name="l03271"></a>03271 
<a name="l03272"></a>03272                 }
<a name="l03273"></a>03273 
<a name="l03274"></a>03274                 <span class="keywordflow">return</span> npos;
<a name="l03275"></a>03275         }
<a name="l03276"></a>03276 
<a name="l03291"></a><a class="code" href="classCEGUI_1_1String.html#37f13c7579928f3bb24a7710efd1718d">03291</a>         size_type       rfind(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type idx = npos)<span class="keyword"> const</span>
<a name="l03292"></a>03292 <span class="keyword">        </span>{
<a name="l03293"></a>03293                 <span class="keywordflow">if</span> (str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> == 0)
<a name="l03294"></a>03294                         <span class="keywordflow">return</span> (idx &lt; d_cplength) ? idx : d_cplength;
<a name="l03295"></a>03295 
<a name="l03296"></a>03296                 <span class="keywordflow">if</span> (str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a> &lt;= d_cplength)
<a name="l03297"></a>03297                 {
<a name="l03298"></a>03298                         <span class="keywordflow">if</span> (idx &gt; (d_cplength - str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a>))
<a name="l03299"></a>03299                                 idx = d_cplength - str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a>;
<a name="l03300"></a>03300 
<a name="l03301"></a>03301                         <span class="keywordflow">do</span>
<a name="l03302"></a>03302                         {
<a name="l03303"></a>03303                                 <span class="keywordflow">if</span> (0 == compare(idx, str.<a class="code" href="classCEGUI_1_1String.html#e7b1527904cf8fdb9c1c49414d6e91d1" title="holds length of string in code points (not including null termination)">d_cplength</a>, str))
<a name="l03304"></a>03304                                         <span class="keywordflow">return</span> idx;
<a name="l03305"></a>03305 
<a name="l03306"></a>03306                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l03307"></a>03307 
<a name="l03308"></a>03308                 }
<a name="l03309"></a>03309 
<a name="l03310"></a>03310                 <span class="keywordflow">return</span> npos;
<a name="l03311"></a>03311         }
<a name="l03312"></a>03312 
<a name="l03331"></a><a class="code" href="classCEGUI_1_1String.html#8985369fc62521a3123aed30ef94584e">03331</a>         size_type       find(<span class="keyword">const</span> std::string&amp; std_str, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03332"></a>03332 <span class="keyword">        </span>{
<a name="l03333"></a>03333                 std::string::size_type sze = std_str.size();
<a name="l03334"></a>03334 
<a name="l03335"></a>03335                 <span class="keywordflow">if</span> ((sze == 0) &amp;&amp; (idx &lt; d_cplength))
<a name="l03336"></a>03336                         <span class="keywordflow">return</span> idx;
<a name="l03337"></a>03337 
<a name="l03338"></a>03338                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03339"></a>03339                 {
<a name="l03340"></a>03340                         <span class="comment">// loop while search string could fit in to search area</span>
<a name="l03341"></a>03341                         <span class="keywordflow">while</span> (d_cplength - idx &gt;= sze)
<a name="l03342"></a>03342                         {
<a name="l03343"></a>03343                                 <span class="keywordflow">if</span> (0 == compare(idx, (size_type)sze, std_str))
<a name="l03344"></a>03344                                         <span class="keywordflow">return</span> idx;
<a name="l03345"></a>03345 
<a name="l03346"></a>03346                                 ++idx;
<a name="l03347"></a>03347                         }
<a name="l03348"></a>03348 
<a name="l03349"></a>03349                 }
<a name="l03350"></a>03350 
<a name="l03351"></a>03351                 <span class="keywordflow">return</span> npos;
<a name="l03352"></a>03352         }
<a name="l03353"></a>03353 
<a name="l03372"></a><a class="code" href="classCEGUI_1_1String.html#7198651ed19177fa870742e0d524c6d5">03372</a>         size_type       rfind(<span class="keyword">const</span> std::string&amp; std_str, size_type idx = npos)<span class="keyword"> const</span>
<a name="l03373"></a>03373 <span class="keyword">        </span>{
<a name="l03374"></a>03374                 std::string::size_type sze = std_str.size();
<a name="l03375"></a>03375 
<a name="l03376"></a>03376                 <span class="keywordflow">if</span> (sze == 0)
<a name="l03377"></a>03377                         <span class="keywordflow">return</span> (idx &lt; d_cplength) ? idx : d_cplength;
<a name="l03378"></a>03378 
<a name="l03379"></a>03379                 <span class="keywordflow">if</span> (sze &lt;= d_cplength)
<a name="l03380"></a>03380                 {
<a name="l03381"></a>03381                         <span class="keywordflow">if</span> (idx &gt; (d_cplength - sze))
<a name="l03382"></a>03382                                 idx = d_cplength - sze;
<a name="l03383"></a>03383 
<a name="l03384"></a>03384                         <span class="keywordflow">do</span>
<a name="l03385"></a>03385                         {
<a name="l03386"></a>03386                                 <span class="keywordflow">if</span> (0 == compare(idx, (size_type)sze, std_str))
<a name="l03387"></a>03387                                         <span class="keywordflow">return</span> idx;
<a name="l03388"></a>03388 
<a name="l03389"></a>03389                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l03390"></a>03390 
<a name="l03391"></a>03391                 }
<a name="l03392"></a>03392 
<a name="l03393"></a>03393                 <span class="keywordflow">return</span> npos;
<a name="l03394"></a>03394         }
<a name="l03395"></a>03395 
<a name="l03418"></a><a class="code" href="classCEGUI_1_1String.html#6ba115fba03436cb6c87f681c12e2a63">03418</a>         size_type       find(<span class="keyword">const</span> utf8* utf8_str, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03419"></a>03419 <span class="keyword">        </span>{
<a name="l03420"></a>03420                 <span class="keywordflow">return</span> find(utf8_str, idx, utf_length(utf8_str));
<a name="l03421"></a>03421         }
<a name="l03422"></a>03422 
<a name="l03445"></a><a class="code" href="classCEGUI_1_1String.html#35544637637a098594bf313415f1afd0">03445</a>         size_type       rfind(<span class="keyword">const</span> utf8* utf8_str, size_type idx = npos)<span class="keyword"> const</span>
<a name="l03446"></a>03446 <span class="keyword">        </span>{
<a name="l03447"></a>03447                 <span class="keywordflow">return</span> rfind(utf8_str, idx, utf_length(utf8_str));
<a name="l03448"></a>03448         }
<a name="l03449"></a>03449 
<a name="l03475"></a><a class="code" href="classCEGUI_1_1String.html#618ee5a32ff652ebe8b7fa2240fee011">03475</a>         size_type       find(<span class="keyword">const</span> utf8* utf8_str, size_type idx, size_type str_len)<span class="keyword"> const</span>
<a name="l03476"></a>03476 <span class="keyword">        </span>{
<a name="l03477"></a>03477                 <span class="keywordflow">if</span> (str_len == npos)
<a name="l03478"></a>03478                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l03479"></a>03479 
<a name="l03480"></a>03480                 size_type sze = encoded_size(utf8_str, str_len);
<a name="l03481"></a>03481 
<a name="l03482"></a>03482                 <span class="keywordflow">if</span> ((sze == 0) &amp;&amp; (idx &lt; d_cplength))
<a name="l03483"></a>03483                         <span class="keywordflow">return</span> idx;
<a name="l03484"></a>03484 
<a name="l03485"></a>03485                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03486"></a>03486                 {
<a name="l03487"></a>03487                         <span class="comment">// loop while search string could fit in to search area</span>
<a name="l03488"></a>03488                         <span class="keywordflow">while</span> (d_cplength - idx &gt;= sze)
<a name="l03489"></a>03489                         {
<a name="l03490"></a>03490                                 <span class="keywordflow">if</span> (0 == compare(idx, sze, utf8_str, sze))
<a name="l03491"></a>03491                                         <span class="keywordflow">return</span> idx;
<a name="l03492"></a>03492 
<a name="l03493"></a>03493                                 ++idx;
<a name="l03494"></a>03494                         }
<a name="l03495"></a>03495 
<a name="l03496"></a>03496                 }
<a name="l03497"></a>03497 
<a name="l03498"></a>03498                 <span class="keywordflow">return</span> npos;
<a name="l03499"></a>03499         }
<a name="l03500"></a>03500 
<a name="l03526"></a><a class="code" href="classCEGUI_1_1String.html#e40743503c6975bf9b82f6b0efa15c27">03526</a>         size_type       rfind(<span class="keyword">const</span> utf8* utf8_str, size_type idx, size_type str_len)<span class="keyword"> const</span>
<a name="l03527"></a>03527 <span class="keyword">        </span>{
<a name="l03528"></a>03528                 <span class="keywordflow">if</span> (str_len == npos)
<a name="l03529"></a>03529                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l03530"></a>03530 
<a name="l03531"></a>03531                 size_type sze = encoded_size(utf8_str, str_len);
<a name="l03532"></a>03532 
<a name="l03533"></a>03533                 <span class="keywordflow">if</span> (sze == 0)
<a name="l03534"></a>03534                         <span class="keywordflow">return</span> (idx &lt; d_cplength) ? idx : d_cplength;
<a name="l03535"></a>03535 
<a name="l03536"></a>03536                 <span class="keywordflow">if</span> (sze &lt;= d_cplength)
<a name="l03537"></a>03537                 {
<a name="l03538"></a>03538                         <span class="keywordflow">if</span> (idx &gt; (d_cplength - sze))
<a name="l03539"></a>03539                                 idx = d_cplength - sze;
<a name="l03540"></a>03540 
<a name="l03541"></a>03541                         <span class="keywordflow">do</span>
<a name="l03542"></a>03542                         {
<a name="l03543"></a>03543                                 <span class="keywordflow">if</span> (0 == compare(idx, sze, utf8_str, sze))
<a name="l03544"></a>03544                                         <span class="keywordflow">return</span> idx;
<a name="l03545"></a>03545 
<a name="l03546"></a>03546                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l03547"></a>03547 
<a name="l03548"></a>03548                 }
<a name="l03549"></a>03549 
<a name="l03550"></a>03550                 <span class="keywordflow">return</span> npos;
<a name="l03551"></a>03551         }
<a name="l03552"></a>03552 
<a name="l03553"></a>03553 
<a name="l03570"></a><a class="code" href="classCEGUI_1_1String.html#a3cd94e09231d18a3b5f6f3e7f62a433">03570</a>         size_type       find(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03571"></a>03571 <span class="keyword">        </span>{
<a name="l03572"></a>03572                 <span class="keywordflow">return</span> find(cstr, idx, strlen(cstr));
<a name="l03573"></a>03573         }
<a name="l03574"></a>03574 
<a name="l03575"></a>03575 
<a name="l03592"></a><a class="code" href="classCEGUI_1_1String.html#93dd9e6118aa5fccaaeecde4db36d692">03592</a>         size_type       rfind(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr, size_type idx = npos)<span class="keyword"> const</span>
<a name="l03593"></a>03593 <span class="keyword">        </span>{
<a name="l03594"></a>03594                 <span class="keywordflow">return</span> rfind(cstr, idx, strlen(cstr));
<a name="l03595"></a>03595         }
<a name="l03596"></a>03596 
<a name="l03597"></a>03597 
<a name="l03617"></a><a class="code" href="classCEGUI_1_1String.html#24eef8126c94994f6784d77eccc33b13">03617</a>         size_type       find(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type idx, size_type chars_len)<span class="keyword"> const</span>
<a name="l03618"></a>03618 <span class="keyword">        </span>{
<a name="l03619"></a>03619                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l03620"></a>03620                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for char array can not be 'npos'"</span>);
<a name="l03621"></a>03621 
<a name="l03622"></a>03622                 <span class="keywordflow">if</span> ((chars_len == 0) &amp;&amp; (idx &lt; d_cplength))
<a name="l03623"></a>03623                         <span class="keywordflow">return</span> idx;
<a name="l03624"></a>03624 
<a name="l03625"></a>03625                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03626"></a>03626                 {
<a name="l03627"></a>03627                         <span class="comment">// loop while search string could fit in to search area</span>
<a name="l03628"></a>03628                         <span class="keywordflow">while</span> (d_cplength - idx &gt;= chars_len)
<a name="l03629"></a>03629                         {
<a name="l03630"></a>03630                                 <span class="keywordflow">if</span> (0 == compare(idx, chars_len, chars, chars_len))
<a name="l03631"></a>03631                                         <span class="keywordflow">return</span> idx;
<a name="l03632"></a>03632 
<a name="l03633"></a>03633                                 ++idx;
<a name="l03634"></a>03634                         }
<a name="l03635"></a>03635 
<a name="l03636"></a>03636                 }
<a name="l03637"></a>03637 
<a name="l03638"></a>03638                 <span class="keywordflow">return</span> npos;
<a name="l03639"></a>03639         }
<a name="l03640"></a>03640 
<a name="l03641"></a>03641 
<a name="l03661"></a><a class="code" href="classCEGUI_1_1String.html#616c94a9d66c2e8caadc927e56b0cf0c">03661</a>         size_type       rfind(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type idx, size_type chars_len)<span class="keyword"> const</span>
<a name="l03662"></a>03662 <span class="keyword">        </span>{
<a name="l03663"></a>03663                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l03664"></a>03664                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for char array can not be 'npos'"</span>);
<a name="l03665"></a>03665 
<a name="l03666"></a>03666                 <span class="keywordflow">if</span> (chars_len == 0)
<a name="l03667"></a>03667                         <span class="keywordflow">return</span> (idx &lt; d_cplength) ? idx : d_cplength;
<a name="l03668"></a>03668 
<a name="l03669"></a>03669                 <span class="keywordflow">if</span> (chars_len &lt;= d_cplength)
<a name="l03670"></a>03670                 {
<a name="l03671"></a>03671                         <span class="keywordflow">if</span> (idx &gt; (d_cplength - chars_len))
<a name="l03672"></a>03672                                 idx = d_cplength - chars_len;
<a name="l03673"></a>03673 
<a name="l03674"></a>03674                         <span class="keywordflow">do</span>
<a name="l03675"></a>03675                         {
<a name="l03676"></a>03676                                 <span class="keywordflow">if</span> (0 == compare(idx, chars_len, chars, chars_len))
<a name="l03677"></a>03677                                         <span class="keywordflow">return</span> idx;
<a name="l03678"></a>03678 
<a name="l03679"></a>03679                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l03680"></a>03680 
<a name="l03681"></a>03681                 }
<a name="l03682"></a>03682 
<a name="l03683"></a>03683                 <span class="keywordflow">return</span> npos;
<a name="l03684"></a>03684         }
<a name="l03685"></a>03685 
<a name="l03686"></a>03686 
<a name="l03688"></a>03688         <span class="comment">// Find first of different code-points</span>
<a name="l03690"></a>03690 <span class="comment"></span>
<a name="l03704"></a><a class="code" href="classCEGUI_1_1String.html#95936579a2be972048c3d1d8ecac041c">03704</a>         size_type       find_first_of(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03705"></a>03705 <span class="keyword">        </span>{
<a name="l03706"></a>03706                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03707"></a>03707                 {
<a name="l03708"></a>03708                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l03709"></a>03709 
<a name="l03710"></a>03710                         <span class="keywordflow">do</span>
<a name="l03711"></a>03711                         {
<a name="l03712"></a>03712                                 <span class="keywordflow">if</span> (npos != str.<a class="code" href="classCEGUI_1_1String.html#6d704323613c75d3ca6e881ed01bfa75" title="Search forwards for a given code point.">find</a>(*pt++))
<a name="l03713"></a>03713                                         <span class="keywordflow">return</span> idx;
<a name="l03714"></a>03714 
<a name="l03715"></a>03715                         } <span class="keywordflow">while</span> (++idx != d_cplength);
<a name="l03716"></a>03716 
<a name="l03717"></a>03717                 }
<a name="l03718"></a>03718 
<a name="l03719"></a>03719                 <span class="keywordflow">return</span> npos;
<a name="l03720"></a>03720         }
<a name="l03721"></a>03721 
<a name="l03736"></a><a class="code" href="classCEGUI_1_1String.html#3fbe180ad72c9032ffca7c59aad0aa42">03736</a>         size_type       find_first_not_of(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03737"></a>03737 <span class="keyword">        </span>{
<a name="l03738"></a>03738                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03739"></a>03739                 {
<a name="l03740"></a>03740                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l03741"></a>03741 
<a name="l03742"></a>03742                         <span class="keywordflow">do</span>
<a name="l03743"></a>03743                         {
<a name="l03744"></a>03744                                 <span class="keywordflow">if</span> (npos == str.<a class="code" href="classCEGUI_1_1String.html#6d704323613c75d3ca6e881ed01bfa75" title="Search forwards for a given code point.">find</a>(*pt++))
<a name="l03745"></a>03745                                         <span class="keywordflow">return</span> idx;
<a name="l03746"></a>03746 
<a name="l03747"></a>03747                         } <span class="keywordflow">while</span> (++idx != d_cplength);
<a name="l03748"></a>03748 
<a name="l03749"></a>03749                 }
<a name="l03750"></a>03750 
<a name="l03751"></a>03751                 <span class="keywordflow">return</span> npos;
<a name="l03752"></a>03752         }
<a name="l03753"></a>03753 
<a name="l03754"></a>03754 
<a name="l03773"></a><a class="code" href="classCEGUI_1_1String.html#64dd8bb7e05bbae2f77c1fe689d76d0e">03773</a>         size_type       find_first_of(<span class="keyword">const</span> std::string&amp; std_str, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03774"></a>03774 <span class="keyword">        </span>{
<a name="l03775"></a>03775                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03776"></a>03776                 {
<a name="l03777"></a>03777                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l03778"></a>03778 
<a name="l03779"></a>03779                         <span class="keywordflow">do</span>
<a name="l03780"></a>03780                         {
<a name="l03781"></a>03781                                 <span class="keywordflow">if</span> (npos != find_codepoint(std_str, *pt++))
<a name="l03782"></a>03782                                         <span class="keywordflow">return</span> idx;
<a name="l03783"></a>03783 
<a name="l03784"></a>03784                         } <span class="keywordflow">while</span> (++idx != d_cplength);
<a name="l03785"></a>03785 
<a name="l03786"></a>03786                 }
<a name="l03787"></a>03787 
<a name="l03788"></a>03788                 <span class="keywordflow">return</span> npos;
<a name="l03789"></a>03789         }
<a name="l03790"></a>03790 
<a name="l03809"></a><a class="code" href="classCEGUI_1_1String.html#ff424ecac5eea3020e3399817863b377">03809</a>         size_type       find_first_not_of(<span class="keyword">const</span> std::string&amp; std_str, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03810"></a>03810 <span class="keyword">        </span>{
<a name="l03811"></a>03811                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03812"></a>03812                 {
<a name="l03813"></a>03813                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l03814"></a>03814 
<a name="l03815"></a>03815                         <span class="keywordflow">do</span>
<a name="l03816"></a>03816                         {
<a name="l03817"></a>03817                                 <span class="keywordflow">if</span> (npos == find_codepoint(std_str, *pt++))
<a name="l03818"></a>03818                                         <span class="keywordflow">return</span> idx;
<a name="l03819"></a>03819 
<a name="l03820"></a>03820                         } <span class="keywordflow">while</span> (++idx != d_cplength);
<a name="l03821"></a>03821 
<a name="l03822"></a>03822                 }
<a name="l03823"></a>03823 
<a name="l03824"></a>03824                 <span class="keywordflow">return</span> npos;
<a name="l03825"></a>03825         }
<a name="l03826"></a>03826 
<a name="l03827"></a>03827 
<a name="l03850"></a><a class="code" href="classCEGUI_1_1String.html#a1aa0631b9c930a274c318bef7753928">03850</a>         size_type       find_first_of(<span class="keyword">const</span> utf8* utf8_str, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03851"></a>03851 <span class="keyword">        </span>{
<a name="l03852"></a>03852                 <span class="keywordflow">return</span> find_first_of(utf8_str, idx, utf_length(utf8_str));
<a name="l03853"></a>03853         }
<a name="l03854"></a>03854 
<a name="l03877"></a><a class="code" href="classCEGUI_1_1String.html#f0582bec2f87cebe80615a63926cc07d">03877</a>         size_type       find_first_not_of(<span class="keyword">const</span> utf8* utf8_str, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03878"></a>03878 <span class="keyword">        </span>{
<a name="l03879"></a>03879                 <span class="keywordflow">return</span> find_first_not_of(utf8_str, idx, utf_length(utf8_str));
<a name="l03880"></a>03880         }
<a name="l03881"></a>03881 
<a name="l03907"></a><a class="code" href="classCEGUI_1_1String.html#d057c8359efdd8e6d9fb8357fe770493">03907</a>         size_type       find_first_of(<span class="keyword">const</span> utf8* utf8_str, size_type idx, size_type str_len)<span class="keyword"> const</span>
<a name="l03908"></a>03908 <span class="keyword">        </span>{
<a name="l03909"></a>03909                 <span class="keywordflow">if</span> (str_len == npos)
<a name="l03910"></a>03910                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l03911"></a>03911 
<a name="l03912"></a>03912                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03913"></a>03913                 {
<a name="l03914"></a>03914                         size_type encsze = encoded_size(utf8_str, str_len);
<a name="l03915"></a>03915 
<a name="l03916"></a>03916                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l03917"></a>03917 
<a name="l03918"></a>03918                         <span class="keywordflow">do</span>
<a name="l03919"></a>03919                         {
<a name="l03920"></a>03920                                 <span class="keywordflow">if</span> (npos != find_codepoint(utf8_str, encsze, *pt++))
<a name="l03921"></a>03921                                         <span class="keywordflow">return</span> idx;
<a name="l03922"></a>03922 
<a name="l03923"></a>03923                         } <span class="keywordflow">while</span> (++idx != d_cplength);
<a name="l03924"></a>03924 
<a name="l03925"></a>03925                 }
<a name="l03926"></a>03926 
<a name="l03927"></a>03927                 <span class="keywordflow">return</span> npos;
<a name="l03928"></a>03928         }
<a name="l03929"></a>03929 
<a name="l03955"></a><a class="code" href="classCEGUI_1_1String.html#6b06c636ccab654d2c3fb10e4565da87">03955</a>         size_type       find_first_not_of(<span class="keyword">const</span> utf8* utf8_str, size_type idx, size_type str_len)<span class="keyword"> const</span>
<a name="l03956"></a>03956 <span class="keyword">        </span>{
<a name="l03957"></a>03957                 <span class="keywordflow">if</span> (str_len == npos)
<a name="l03958"></a>03958                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l03959"></a>03959 
<a name="l03960"></a>03960                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l03961"></a>03961                 {
<a name="l03962"></a>03962                         size_type encsze = encoded_size(utf8_str, str_len);
<a name="l03963"></a>03963 
<a name="l03964"></a>03964                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l03965"></a>03965 
<a name="l03966"></a>03966                         <span class="keywordflow">do</span>
<a name="l03967"></a>03967                         {
<a name="l03968"></a>03968                                 <span class="keywordflow">if</span> (npos == find_codepoint(utf8_str, encsze, *pt++))
<a name="l03969"></a>03969                                         <span class="keywordflow">return</span> idx;
<a name="l03970"></a>03970 
<a name="l03971"></a>03971                         } <span class="keywordflow">while</span> (++idx != d_cplength);
<a name="l03972"></a>03972 
<a name="l03973"></a>03973                 }
<a name="l03974"></a>03974 
<a name="l03975"></a>03975                 <span class="keywordflow">return</span> npos;
<a name="l03976"></a>03976         }
<a name="l03977"></a>03977 
<a name="l03978"></a>03978 
<a name="l03993"></a><a class="code" href="classCEGUI_1_1String.html#e32e303ce7f55088f99d8b8e2da5efe3">03993</a>         size_type       find_first_of(utf32 code_point, size_type idx = 0)<span class="keyword"> const</span>
<a name="l03994"></a>03994 <span class="keyword">        </span>{
<a name="l03995"></a>03995                 <span class="keywordflow">return</span> find(code_point, idx);
<a name="l03996"></a>03996         }
<a name="l03997"></a>03997 
<a name="l04014"></a><a class="code" href="classCEGUI_1_1String.html#89c26332698673e8a03d512ac8ec2914">04014</a>         size_type       find_first_not_of(utf32 code_point, size_type idx = 0)<span class="keyword"> const</span>
<a name="l04015"></a>04015 <span class="keyword">        </span>{
<a name="l04016"></a>04016                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l04017"></a>04017                 {
<a name="l04018"></a>04018                         <span class="keywordflow">do</span>
<a name="l04019"></a>04019                         {
<a name="l04020"></a>04020                                 <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[idx] != code_point)
<a name="l04021"></a>04021                                         <span class="keywordflow">return</span> idx;
<a name="l04022"></a>04022 
<a name="l04023"></a>04023                         } <span class="keywordflow">while</span>(idx++ &lt; d_cplength);
<a name="l04024"></a>04024 
<a name="l04025"></a>04025                 }
<a name="l04026"></a>04026 
<a name="l04027"></a>04027                 <span class="keywordflow">return</span> npos;
<a name="l04028"></a>04028         }
<a name="l04029"></a>04029 
<a name="l04030"></a>04030 
<a name="l04047"></a><a class="code" href="classCEGUI_1_1String.html#796843b315f60508ddaa085c2d81f754">04047</a>         size_type       find_first_of(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr, size_type idx = 0)<span class="keyword"> const</span>
<a name="l04048"></a>04048 <span class="keyword">        </span>{
<a name="l04049"></a>04049                 <span class="keywordflow">return</span> find_first_of(cstr, idx, strlen(cstr));
<a name="l04050"></a>04050         }
<a name="l04051"></a>04051 
<a name="l04052"></a>04052 
<a name="l04069"></a><a class="code" href="classCEGUI_1_1String.html#22c65d3311455874555301b7644ddf49">04069</a>         size_type       find_first_not_of(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr, size_type idx = 0)<span class="keyword"> const</span>
<a name="l04070"></a>04070 <span class="keyword">        </span>{
<a name="l04071"></a>04071                 <span class="keywordflow">return</span> find_first_not_of(cstr, idx, strlen(cstr));
<a name="l04072"></a>04072         }
<a name="l04073"></a>04073 
<a name="l04074"></a>04074 
<a name="l04094"></a><a class="code" href="classCEGUI_1_1String.html#4db32c00439b88e8c0f813020a6a5428">04094</a>         size_type       find_first_of(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type idx, size_type chars_len)<span class="keyword"> const</span>
<a name="l04095"></a>04095 <span class="keyword">        </span>{
<a name="l04096"></a>04096                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l04097"></a>04097                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for char array can not be 'npos'"</span>);
<a name="l04098"></a>04098 
<a name="l04099"></a>04099                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l04100"></a>04100                 {
<a name="l04101"></a>04101                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04102"></a>04102 
<a name="l04103"></a>04103                         <span class="keywordflow">do</span>
<a name="l04104"></a>04104                         {
<a name="l04105"></a>04105                                 <span class="keywordflow">if</span> (npos != find_codepoint(chars, chars_len, *pt++))
<a name="l04106"></a>04106                                         <span class="keywordflow">return</span> idx;
<a name="l04107"></a>04107 
<a name="l04108"></a>04108                         } <span class="keywordflow">while</span> (++idx != d_cplength);
<a name="l04109"></a>04109 
<a name="l04110"></a>04110                 }
<a name="l04111"></a>04111 
<a name="l04112"></a>04112                 <span class="keywordflow">return</span> npos;
<a name="l04113"></a>04113         }
<a name="l04114"></a>04114 
<a name="l04115"></a>04115 
<a name="l04135"></a><a class="code" href="classCEGUI_1_1String.html#802039611d07eca037f1dab4e4538fb9">04135</a>         size_type       find_first_not_of(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type idx, size_type chars_len)<span class="keyword"> const</span>
<a name="l04136"></a>04136 <span class="keyword">        </span>{
<a name="l04137"></a>04137                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l04138"></a>04138                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for char array can not be 'npos'"</span>);
<a name="l04139"></a>04139 
<a name="l04140"></a>04140                 <span class="keywordflow">if</span> (idx &lt; d_cplength)
<a name="l04141"></a>04141                 {
<a name="l04142"></a>04142                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04143"></a>04143 
<a name="l04144"></a>04144                         <span class="keywordflow">do</span>
<a name="l04145"></a>04145                         {
<a name="l04146"></a>04146                                 <span class="keywordflow">if</span> (npos == find_codepoint(chars, chars_len, *pt++))
<a name="l04147"></a>04147                                         <span class="keywordflow">return</span> idx;
<a name="l04148"></a>04148 
<a name="l04149"></a>04149                         } <span class="keywordflow">while</span> (++idx != d_cplength);
<a name="l04150"></a>04150 
<a name="l04151"></a>04151                 }
<a name="l04152"></a>04152 
<a name="l04153"></a>04153                 <span class="keywordflow">return</span> npos;
<a name="l04154"></a>04154         }
<a name="l04155"></a>04155 
<a name="l04156"></a>04156 
<a name="l04158"></a>04158         <span class="comment">// Find last of different code-points</span>
<a name="l04160"></a>04160 <span class="comment"></span>
<a name="l04174"></a><a class="code" href="classCEGUI_1_1String.html#eb671dd1e128a980966c33ed509ff872">04174</a>         size_type       find_last_of(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04175"></a>04175 <span class="keyword">        </span>{
<a name="l04176"></a>04176                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l04177"></a>04177                 {
<a name="l04178"></a>04178                         <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l04179"></a>04179                                 idx = d_cplength - 1;
<a name="l04180"></a>04180 
<a name="l04181"></a>04181                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04182"></a>04182 
<a name="l04183"></a>04183                         <span class="keywordflow">do</span>
<a name="l04184"></a>04184                         {
<a name="l04185"></a>04185                                 <span class="keywordflow">if</span> (npos != str.<a class="code" href="classCEGUI_1_1String.html#6d704323613c75d3ca6e881ed01bfa75" title="Search forwards for a given code point.">find</a>(*pt--))
<a name="l04186"></a>04186                                         <span class="keywordflow">return</span> idx;
<a name="l04187"></a>04187 
<a name="l04188"></a>04188                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l04189"></a>04189 
<a name="l04190"></a>04190                 }
<a name="l04191"></a>04191 
<a name="l04192"></a>04192                 <span class="keywordflow">return</span> npos;
<a name="l04193"></a>04193         }
<a name="l04194"></a>04194 
<a name="l04209"></a><a class="code" href="classCEGUI_1_1String.html#9055a69a98b9244425010a9d1f63171f">04209</a>         size_type       find_last_not_of(<span class="keyword">const</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>&amp; str, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04210"></a>04210 <span class="keyword">        </span>{
<a name="l04211"></a>04211                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l04212"></a>04212                 {
<a name="l04213"></a>04213                         <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l04214"></a>04214                                 idx = d_cplength - 1;
<a name="l04215"></a>04215 
<a name="l04216"></a>04216                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04217"></a>04217 
<a name="l04218"></a>04218                         <span class="keywordflow">do</span>
<a name="l04219"></a>04219                         {
<a name="l04220"></a>04220                                 <span class="keywordflow">if</span> (npos == str.<a class="code" href="classCEGUI_1_1String.html#6d704323613c75d3ca6e881ed01bfa75" title="Search forwards for a given code point.">find</a>(*pt--))
<a name="l04221"></a>04221                                         <span class="keywordflow">return</span> idx;
<a name="l04222"></a>04222 
<a name="l04223"></a>04223                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l04224"></a>04224 
<a name="l04225"></a>04225                 }
<a name="l04226"></a>04226 
<a name="l04227"></a>04227                 <span class="keywordflow">return</span> npos;
<a name="l04228"></a>04228         }
<a name="l04229"></a>04229 
<a name="l04230"></a>04230 
<a name="l04249"></a><a class="code" href="classCEGUI_1_1String.html#a019abd0baf991cbf73c95308fd2fa6b">04249</a>         size_type       find_last_of(<span class="keyword">const</span> std::string&amp; std_str, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04250"></a>04250 <span class="keyword">        </span>{
<a name="l04251"></a>04251                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l04252"></a>04252                 {
<a name="l04253"></a>04253                         <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l04254"></a>04254                                 idx = d_cplength - 1;
<a name="l04255"></a>04255 
<a name="l04256"></a>04256                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04257"></a>04257 
<a name="l04258"></a>04258                         <span class="keywordflow">do</span>
<a name="l04259"></a>04259                         {
<a name="l04260"></a>04260                                 <span class="keywordflow">if</span> (npos != find_codepoint(std_str, *pt--))
<a name="l04261"></a>04261                                         <span class="keywordflow">return</span> idx;
<a name="l04262"></a>04262 
<a name="l04263"></a>04263                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l04264"></a>04264 
<a name="l04265"></a>04265                 }
<a name="l04266"></a>04266 
<a name="l04267"></a>04267                 <span class="keywordflow">return</span> npos;
<a name="l04268"></a>04268         }
<a name="l04269"></a>04269 
<a name="l04288"></a><a class="code" href="classCEGUI_1_1String.html#4eb56bc53f3713f74d9ab79896fa4e6e">04288</a>         size_type       find_last_not_of(<span class="keyword">const</span> std::string&amp; std_str, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04289"></a>04289 <span class="keyword">        </span>{
<a name="l04290"></a>04290                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l04291"></a>04291                 {
<a name="l04292"></a>04292                         <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l04293"></a>04293                                 idx = d_cplength - 1;
<a name="l04294"></a>04294 
<a name="l04295"></a>04295                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04296"></a>04296 
<a name="l04297"></a>04297                         <span class="keywordflow">do</span>
<a name="l04298"></a>04298                         {
<a name="l04299"></a>04299                                 <span class="keywordflow">if</span> (npos == find_codepoint(std_str, *pt--))
<a name="l04300"></a>04300                                         <span class="keywordflow">return</span> idx;
<a name="l04301"></a>04301 
<a name="l04302"></a>04302                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l04303"></a>04303 
<a name="l04304"></a>04304                 }
<a name="l04305"></a>04305 
<a name="l04306"></a>04306                 <span class="keywordflow">return</span> npos;
<a name="l04307"></a>04307         }
<a name="l04308"></a>04308 
<a name="l04309"></a>04309 
<a name="l04332"></a><a class="code" href="classCEGUI_1_1String.html#be52f116246a7908f2e90de0c2e5d882">04332</a>         size_type       find_last_of(<span class="keyword">const</span> utf8* utf8_str, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04333"></a>04333 <span class="keyword">        </span>{
<a name="l04334"></a>04334                 <span class="keywordflow">return</span> find_last_of(utf8_str, idx, utf_length(utf8_str));
<a name="l04335"></a>04335         }
<a name="l04336"></a>04336 
<a name="l04359"></a><a class="code" href="classCEGUI_1_1String.html#c4b659db391d007c9893a7dc1eba6310">04359</a>         size_type       find_last_not_of(<span class="keyword">const</span> utf8* utf8_str, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04360"></a>04360 <span class="keyword">        </span>{
<a name="l04361"></a>04361                 <span class="keywordflow">return</span> find_last_not_of(utf8_str, idx, utf_length(utf8_str));
<a name="l04362"></a>04362         }
<a name="l04363"></a>04363 
<a name="l04389"></a><a class="code" href="classCEGUI_1_1String.html#a454f9aff7af9698cc2337538474eaf3">04389</a>         size_type       find_last_of(<span class="keyword">const</span> utf8* utf8_str, size_type idx, size_type str_len)<span class="keyword"> const</span>
<a name="l04390"></a>04390 <span class="keyword">        </span>{
<a name="l04391"></a>04391                 <span class="keywordflow">if</span> (str_len == npos)
<a name="l04392"></a>04392                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l04393"></a>04393 
<a name="l04394"></a>04394                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l04395"></a>04395                 {
<a name="l04396"></a>04396                         <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l04397"></a>04397                                 idx = d_cplength - 1;
<a name="l04398"></a>04398 
<a name="l04399"></a>04399                         size_type encsze = encoded_size(utf8_str, str_len);
<a name="l04400"></a>04400 
<a name="l04401"></a>04401                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04402"></a>04402 
<a name="l04403"></a>04403                         <span class="keywordflow">do</span>
<a name="l04404"></a>04404                         {
<a name="l04405"></a>04405                                 <span class="keywordflow">if</span> (npos != find_codepoint(utf8_str, encsze, *pt--))
<a name="l04406"></a>04406                                         <span class="keywordflow">return</span> idx;
<a name="l04407"></a>04407 
<a name="l04408"></a>04408                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l04409"></a>04409 
<a name="l04410"></a>04410                 }
<a name="l04411"></a>04411 
<a name="l04412"></a>04412                 <span class="keywordflow">return</span> npos;
<a name="l04413"></a>04413         }
<a name="l04414"></a>04414 
<a name="l04440"></a><a class="code" href="classCEGUI_1_1String.html#a506648d7ecb89930104ca043a2d1a9d">04440</a>         size_type       find_last_not_of(<span class="keyword">const</span> utf8* utf8_str, size_type idx, size_type str_len)<span class="keyword"> const</span>
<a name="l04441"></a>04441 <span class="keyword">        </span>{
<a name="l04442"></a>04442                 <span class="keywordflow">if</span> (str_len == npos)
<a name="l04443"></a>04443                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for utf8 encoded string can not be 'npos'"</span>);
<a name="l04444"></a>04444 
<a name="l04445"></a>04445                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l04446"></a>04446                 {
<a name="l04447"></a>04447                         <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l04448"></a>04448                                 idx = d_cplength - 1;
<a name="l04449"></a>04449 
<a name="l04450"></a>04450                         size_type encsze = encoded_size(utf8_str, str_len);
<a name="l04451"></a>04451 
<a name="l04452"></a>04452                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04453"></a>04453 
<a name="l04454"></a>04454                         <span class="keywordflow">do</span>
<a name="l04455"></a>04455                         {
<a name="l04456"></a>04456                                 <span class="keywordflow">if</span> (npos == find_codepoint(utf8_str, encsze, *pt--))
<a name="l04457"></a>04457                                         <span class="keywordflow">return</span> idx;
<a name="l04458"></a>04458 
<a name="l04459"></a>04459                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l04460"></a>04460 
<a name="l04461"></a>04461                 }
<a name="l04462"></a>04462 
<a name="l04463"></a>04463                 <span class="keywordflow">return</span> npos;
<a name="l04464"></a>04464         }
<a name="l04465"></a>04465 
<a name="l04466"></a>04466 
<a name="l04481"></a><a class="code" href="classCEGUI_1_1String.html#5f75a2f07e81ca558bbab3b3ec1f7b01">04481</a>         size_type       find_last_of(utf32 code_point, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04482"></a>04482 <span class="keyword">        </span>{
<a name="l04483"></a>04483                 <span class="keywordflow">return</span> rfind(code_point, idx);
<a name="l04484"></a>04484         }
<a name="l04485"></a>04485 
<a name="l04500"></a><a class="code" href="classCEGUI_1_1String.html#3db29ae35a1549469d9a2769ba008c43">04500</a>         size_type       find_last_not_of(utf32 code_point, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04501"></a>04501 <span class="keyword">        </span>{
<a name="l04502"></a>04502                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l04503"></a>04503                 {
<a name="l04504"></a>04504                         <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l04505"></a>04505                                 idx = d_cplength - 1;
<a name="l04506"></a>04506 
<a name="l04507"></a>04507                         <span class="keywordflow">do</span>
<a name="l04508"></a>04508                         {
<a name="l04509"></a>04509                                 <span class="keywordflow">if</span> ((*<span class="keyword">this</span>)[idx] != code_point)
<a name="l04510"></a>04510                                         <span class="keywordflow">return</span> idx;
<a name="l04511"></a>04511 
<a name="l04512"></a>04512                         } <span class="keywordflow">while</span>(idx-- != 0);
<a name="l04513"></a>04513 
<a name="l04514"></a>04514                 }
<a name="l04515"></a>04515 
<a name="l04516"></a>04516                 <span class="keywordflow">return</span> npos;
<a name="l04517"></a>04517         }
<a name="l04518"></a>04518 
<a name="l04519"></a>04519 
<a name="l04536"></a><a class="code" href="classCEGUI_1_1String.html#18d4690cb00bdb1e5973ae3541762553">04536</a>         size_type       find_last_of(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04537"></a>04537 <span class="keyword">        </span>{
<a name="l04538"></a>04538                 <span class="keywordflow">return</span> find_last_of(cstr, idx, strlen(cstr));
<a name="l04539"></a>04539         }
<a name="l04540"></a>04540 
<a name="l04541"></a>04541 
<a name="l04558"></a><a class="code" href="classCEGUI_1_1String.html#1a03f79c7cf449911712ba3ff52b2dc7">04558</a>         size_type       find_last_not_of(<span class="keyword">const</span> <span class="keywordtype">char</span>* cstr, size_type idx = npos)<span class="keyword"> const</span>
<a name="l04559"></a>04559 <span class="keyword">        </span>{
<a name="l04560"></a>04560                 <span class="keywordflow">return</span> find_last_not_of(cstr, idx, strlen(cstr));
<a name="l04561"></a>04561         }
<a name="l04562"></a>04562 
<a name="l04563"></a>04563 
<a name="l04583"></a><a class="code" href="classCEGUI_1_1String.html#7af101a189d0bfb474c210117cac60d6">04583</a>         size_type       find_last_of(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type idx, size_type chars_len)<span class="keyword"> const</span>
<a name="l04584"></a>04584 <span class="keyword">        </span>{
<a name="l04585"></a>04585                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l04586"></a>04586                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for char array can not be 'npos'"</span>);
<a name="l04587"></a>04587 
<a name="l04588"></a>04588                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l04589"></a>04589                 {
<a name="l04590"></a>04590                         <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l04591"></a>04591                                 idx = d_cplength - 1;
<a name="l04592"></a>04592 
<a name="l04593"></a>04593                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04594"></a>04594 
<a name="l04595"></a>04595                         <span class="keywordflow">do</span>
<a name="l04596"></a>04596                         {
<a name="l04597"></a>04597                                 <span class="keywordflow">if</span> (npos != find_codepoint(chars, chars_len, *pt--))
<a name="l04598"></a>04598                                         <span class="keywordflow">return</span> idx;
<a name="l04599"></a>04599 
<a name="l04600"></a>04600                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l04601"></a>04601 
<a name="l04602"></a>04602                 }
<a name="l04603"></a>04603 
<a name="l04604"></a>04604                 <span class="keywordflow">return</span> npos;
<a name="l04605"></a>04605         }
<a name="l04606"></a>04606 
<a name="l04607"></a>04607 
<a name="l04627"></a><a class="code" href="classCEGUI_1_1String.html#eb28f6127825d9ff4ffad1386f1c2780">04627</a>         size_type       find_last_not_of(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type idx, size_type chars_len)<span class="keyword"> const</span>
<a name="l04628"></a>04628 <span class="keyword">        </span>{
<a name="l04629"></a>04629                 <span class="keywordflow">if</span> (chars_len == npos)
<a name="l04630"></a>04630                         <span class="keywordflow">throw</span> std::length_error(<span class="stringliteral">"Length for char array can not be 'npos'"</span>);
<a name="l04631"></a>04631 
<a name="l04632"></a>04632                 <span class="keywordflow">if</span> (d_cplength &gt; 0)
<a name="l04633"></a>04633                 {
<a name="l04634"></a>04634                         <span class="keywordflow">if</span> (idx &gt;= d_cplength)
<a name="l04635"></a>04635                                 idx = d_cplength - 1;
<a name="l04636"></a>04636 
<a name="l04637"></a>04637                         <span class="keyword">const</span> utf32* pt = &amp;ptr()[idx];
<a name="l04638"></a>04638 
<a name="l04639"></a>04639                         <span class="keywordflow">do</span>
<a name="l04640"></a>04640                         {
<a name="l04641"></a>04641                                 <span class="keywordflow">if</span> (npos == find_codepoint(chars, chars_len, *pt--))
<a name="l04642"></a>04642                                         <span class="keywordflow">return</span> idx;
<a name="l04643"></a>04643 
<a name="l04644"></a>04644                         } <span class="keywordflow">while</span> (idx-- != 0);
<a name="l04645"></a>04645 
<a name="l04646"></a>04646                 }
<a name="l04647"></a>04647 
<a name="l04648"></a>04648                 <span class="keywordflow">return</span> npos;
<a name="l04649"></a>04649         }
<a name="l04650"></a>04650 
<a name="l04651"></a>04651 
<a name="l04653"></a>04653         <span class="comment">// Substring</span>
<a name="l04655"></a>04655 <span class="comment"></span>
<a name="l04670"></a><a class="code" href="classCEGUI_1_1String.html#d4440e7012a7ae2d5e3e2d278375cb8d">04670</a>         <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>  substr(size_type idx = 0, size_type len = npos)<span class="keyword"> const</span>
<a name="l04671"></a>04671 <span class="keyword">        </span>{
<a name="l04672"></a>04672                 <span class="keywordflow">if</span> (d_cplength &lt; idx)
<a name="l04673"></a>04673                         <span class="keywordflow">throw</span> std::out_of_range(<span class="stringliteral">"Index is out of range for this CEGUI::String"</span>);
<a name="l04674"></a>04674 
<a name="l04675"></a>04675                 <span class="keywordflow">return</span> <a class="code" href="classCEGUI_1_1String.html" title="String class used within the GUI system.">String</a>(*<span class="keyword">this</span>, idx, len);
<a name="l04676"></a>04676         }
<a name="l04677"></a>04677 
<a name="l04679"></a>04679         <span class="comment">// Iterator creation</span>
<a name="l04681"></a>04681 <span class="comment"></span>
<a name="l04688"></a><a class="code" href="classCEGUI_1_1String.html#bea6b163f583a1ff698db7bf01190b0d">04688</a>         <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>                begin(<span class="keywordtype">void</span>)
<a name="l04689"></a>04689         {
<a name="l04690"></a>04690                 <span class="keywordflow">return</span> <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>(ptr());
<a name="l04691"></a>04691         }
<a name="l04692"></a>04692 
<a name="l04700"></a><a class="code" href="classCEGUI_1_1String.html#c2e18b165dfeceae3c5b10f8ae900848">04700</a>         <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>  begin(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l04701"></a>04701 <span class="keyword">        </span>{
<a name="l04702"></a>04702                 <span class="keywordflow">return</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>(ptr());
<a name="l04703"></a>04703         }
<a name="l04704"></a>04704 
<a name="l04712"></a><a class="code" href="classCEGUI_1_1String.html#5d7600fec5342d91d762621489747c49">04712</a>         <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>                end(<span class="keywordtype">void</span>)
<a name="l04713"></a>04713         {
<a name="l04714"></a>04714                 <span class="keywordflow">return</span> <a class="code" href="classCEGUI_1_1String_1_1iterator.html" title="Forward iterator class for String objects.">iterator</a>(&amp;ptr()[d_cplength]);
<a name="l04715"></a>04715         }
<a name="l04716"></a>04716 
<a name="l04724"></a><a class="code" href="classCEGUI_1_1String.html#be8e5ac1aeaadcbe59a13c63c3d026f7">04724</a>         <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>  end(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l04725"></a>04725 <span class="keyword">        </span>{
<a name="l04726"></a>04726                 <span class="keywordflow">return</span> <a class="code" href="classCEGUI_1_1String_1_1const__iterator.html" title="Constant forward iterator class for String objects.">const_iterator</a>(&amp;ptr()[d_cplength]);
<a name="l04727"></a>04727         }
<a name="l04728"></a>04728 
<a name="l04736"></a><a class="code" href="classCEGUI_1_1String.html#a119bb8eab7c3deb02b426e09f685658">04736</a>         reverse_iterator                rbegin(<span class="keywordtype">void</span>)
<a name="l04737"></a>04737         {
<a name="l04738"></a>04738                 <span class="keywordflow">return</span> reverse_iterator(end());
<a name="l04739"></a>04739         }
<a name="l04740"></a>04740 
<a name="l04748"></a><a class="code" href="classCEGUI_1_1String.html#6bf9302def44404f752edac58e5445e9">04748</a>         const_reverse_iterator  rbegin(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l04749"></a>04749 <span class="keyword">        </span>{
<a name="l04750"></a>04750                 <span class="keywordflow">return</span> const_reverse_iterator(end());
<a name="l04751"></a>04751         }
<a name="l04752"></a>04752 
<a name="l04760"></a><a class="code" href="classCEGUI_1_1String.html#71d12ea1f158d67845cbc0e57381998d">04760</a>         reverse_iterator                rend(<span class="keywordtype">void</span>)
<a name="l04761"></a>04761         {
<a name="l04762"></a>04762                 <span class="keywordflow">return</span> reverse_iterator(begin());
<a name="l04763"></a>04763         }
<a name="l04764"></a>04764 
<a name="l04772"></a><a class="code" href="classCEGUI_1_1String.html#90c76256d743c7e1fdca49c30e6ec634">04772</a>         const_reverse_iterator  rend(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l04773"></a>04773 <span class="keyword">        </span>{
<a name="l04774"></a>04774                 <span class="keywordflow">return</span> const_reverse_iterator(begin());
<a name="l04775"></a>04775         }
<a name="l04776"></a>04776 
<a name="l04777"></a>04777 <span class="keyword">private</span>:
<a name="l04778"></a>04778         <span class="comment">/*************************************************************************</span>
<a name="l04779"></a>04779 <span class="comment">                Implementation Functions</span>
<a name="l04780"></a>04780 <span class="comment">        *************************************************************************/</span>
<a name="l04781"></a>04781         <span class="comment">// string management</span>
<a name="l04782"></a>04782 
<a name="l04783"></a>04783         <span class="comment">// change size of allocated buffer so it is at least 'new_size'.</span>
<a name="l04784"></a>04784         <span class="comment">// May or may not cause re-allocation and copy of buffer if size is larger</span>
<a name="l04785"></a>04785         <span class="comment">// will never re-allocate to make size smaller.  (see trim())</span>
<a name="l04786"></a>04786     <span class="keywordtype">bool</span>        grow(size_type new_size);
<a name="l04787"></a>04787 
<a name="l04788"></a>04788         <span class="comment">// perform re-allocation to remove wasted space.</span>
<a name="l04789"></a>04789     <span class="keywordtype">void</span>        trim(<span class="keywordtype">void</span>);
<a name="l04790"></a>04790 
<a name="l04791"></a>04791         <span class="comment">// set the length of the string, and terminate it, according to the given value (will not re-allocate, use grow() first).</span>
<a name="l04792"></a>04792         <span class="keywordtype">void</span>    setlen(size_type len)
<a name="l04793"></a>04793         {
<a name="l04794"></a>04794                 d_cplength = len;
<a name="l04795"></a>04795                 ptr()[len] = (utf32)(0);
<a name="l04796"></a>04796         }
<a name="l04797"></a>04797 
<a name="l04798"></a>04798         <span class="comment">// initialise string object</span>
<a name="l04799"></a>04799         <span class="keywordtype">void</span>    init(<span class="keywordtype">void</span>)
<a name="l04800"></a>04800         {
<a name="l04801"></a>04801                 d_reserve                       = STR_QUICKBUFF_SIZE;
<a name="l04802"></a>04802                 d_encodedbuff           = 0;
<a name="l04803"></a>04803                 d_encodedbufflen        = 0;
<a name="l04804"></a>04804                 d_encodeddatlen         = 0;
<a name="l04805"></a>04805         d_buffer            = 0;
<a name="l04806"></a>04806                 setlen(0);
<a name="l04807"></a>04807         }
<a name="l04808"></a>04808 
<a name="l04809"></a>04809         <span class="comment">// return true if the given pointer is inside the string data</span>
<a name="l04810"></a>04810         <span class="keywordtype">bool</span>    inside(utf32* inptr)
<a name="l04811"></a>04811         {
<a name="l04812"></a>04812                 <span class="keywordflow">if</span> (inptr &lt; ptr() || ptr() + d_cplength &lt;= inptr)
<a name="l04813"></a>04813                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l04814"></a>04814                 <span class="keywordflow">else</span>
<a name="l04815"></a>04815                         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l04816"></a>04816         }
<a name="l04817"></a>04817 
<a name="l04818"></a>04818         <span class="comment">// compute distance between two iterators, returning a 'safe' value</span>
<a name="l04819"></a>04819         size_type safe_iter_dif(<span class="keyword">const</span> const_iterator&amp; iter1, <span class="keyword">const</span> const_iterator&amp; iter2)<span class="keyword"> const</span>
<a name="l04820"></a>04820 <span class="keyword">        </span>{
<a name="l04821"></a>04821                 <span class="keywordflow">return</span> (iter1.d_ptr == 0) ? 0 : (iter1 - iter2);
<a name="l04822"></a>04822         }
<a name="l04823"></a>04823 
<a name="l04824"></a>04824         <span class="comment">// encoding functions</span>
<a name="l04825"></a>04825         <span class="comment">// for all:</span>
<a name="l04826"></a>04826         <span class="comment">//      src_len is in code units, or 0 for null terminated string.</span>
<a name="l04827"></a>04827         <span class="comment">//      dest_len is in code units.</span>
<a name="l04828"></a>04828         <span class="comment">//      returns number of code units put into dest buffer.</span>
<a name="l04829"></a>04829         size_type encode(<span class="keyword">const</span> utf32* src, utf8* dest, size_type dest_len, size_type src_len = 0)<span class="keyword"> const</span>
<a name="l04830"></a>04830 <span class="keyword">        </span>{
<a name="l04831"></a>04831                 <span class="comment">// count length for null terminated source...</span>
<a name="l04832"></a>04832                 <span class="keywordflow">if</span> (src_len == 0)
<a name="l04833"></a>04833                 {
<a name="l04834"></a>04834                         src_len = utf_length(src);
<a name="l04835"></a>04835                 }
<a name="l04836"></a>04836 
<a name="l04837"></a>04837                 size_type destCapacity = dest_len;
<a name="l04838"></a>04838 
<a name="l04839"></a>04839                 <span class="comment">// while there is data in the source buffer,</span>
<a name="l04840"></a>04840                 <span class="keywordflow">for</span> (uint idx = 0; idx &lt; src_len; ++idx)
<a name="l04841"></a>04841                 {
<a name="l04842"></a>04842                         utf32   cp = src[idx];
<a name="l04843"></a>04843 
<a name="l04844"></a>04844                         <span class="comment">// check there is enough destination buffer to receive this encoded unit (exit loop &amp; return if not)</span>
<a name="l04845"></a>04845                         <span class="keywordflow">if</span> (destCapacity &lt; encoded_size(cp))
<a name="l04846"></a>04846                         {
<a name="l04847"></a>04847                                 <span class="keywordflow">break</span>;
<a name="l04848"></a>04848                         }
<a name="l04849"></a>04849 
<a name="l04850"></a>04850                         <span class="keywordflow">if</span> (cp &lt; 0x80)
<a name="l04851"></a>04851                         {
<a name="l04852"></a>04852                                 *dest++ = (utf8)cp;
<a name="l04853"></a>04853                                 --destCapacity;
<a name="l04854"></a>04854                         }
<a name="l04855"></a>04855                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cp &lt; 0x0800)
<a name="l04856"></a>04856                         {
<a name="l04857"></a>04857                                 *dest++ = (utf8)((cp &gt;&gt; 6) | 0xC0);
<a name="l04858"></a>04858                                 *dest++ = (utf8)((cp &amp; 0x3F) | 0x80);
<a name="l04859"></a>04859                                 destCapacity -= 2;
<a name="l04860"></a>04860                         }
<a name="l04861"></a>04861                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cp &lt; 0x10000)
<a name="l04862"></a>04862                         {
<a name="l04863"></a>04863                                 *dest++ = (utf8)((cp &gt;&gt; 12) | 0xE0);
<a name="l04864"></a>04864                                 *dest++ = (utf8)(((cp &gt;&gt; 6) &amp; 0x3F) | 0x80);
<a name="l04865"></a>04865                                 *dest++ = (utf8)((cp &amp; 0x3F) | 0x80);
<a name="l04866"></a>04866                                 destCapacity -= 3;
<a name="l04867"></a>04867                         }
<a name="l04868"></a>04868                         <span class="keywordflow">else</span>
<a name="l04869"></a>04869                         {
<a name="l04870"></a>04870                                 *dest++ = (utf8)((cp &gt;&gt; 18) | 0xF0);
<a name="l04871"></a>04871                                 *dest++ = (utf8)(((cp &gt;&gt; 12) &amp; 0x3F) | 0x80);
<a name="l04872"></a>04872                                 *dest++ = (utf8)(((cp &gt;&gt; 6) &amp; 0x3F) | 0x80);
<a name="l04873"></a>04873                                 *dest++ = (utf8)((cp &amp; 0x3F) | 0x80);
<a name="l04874"></a>04874                                 destCapacity -= 4;
<a name="l04875"></a>04875                         }
<a name="l04876"></a>04876 
<a name="l04877"></a>04877                 }
<a name="l04878"></a>04878 
<a name="l04879"></a>04879                 <span class="keywordflow">return</span> dest_len - destCapacity;
<a name="l04880"></a>04880         }
<a name="l04881"></a>04881 
<a name="l04882"></a>04882         size_type encode(<span class="keyword">const</span> utf8* src, utf32* dest, size_type dest_len, size_type src_len = 0)<span class="keyword"> const</span>
<a name="l04883"></a>04883 <span class="keyword">        </span>{
<a name="l04884"></a>04884                 <span class="comment">// count length for null terminated source...</span>
<a name="l04885"></a>04885                 <span class="keywordflow">if</span> (src_len == 0)
<a name="l04886"></a>04886                 {
<a name="l04887"></a>04887                         src_len = utf_length(src);
<a name="l04888"></a>04888                 }
<a name="l04889"></a>04889 
<a name="l04890"></a>04890                 size_type destCapacity = dest_len;
<a name="l04891"></a>04891 
<a name="l04892"></a>04892                 <span class="comment">// while there is data in the source buffer, and space in the dest buffer</span>
<a name="l04893"></a>04893                 <span class="keywordflow">for</span> (uint idx = 0; ((idx &lt; src_len) &amp;&amp; (destCapacity &gt; 0));)
<a name="l04894"></a>04894                 {
<a name="l04895"></a>04895                         utf32   cp;
<a name="l04896"></a>04896                         utf8    cu = src[idx++];
<a name="l04897"></a>04897 
<a name="l04898"></a>04898                         <span class="keywordflow">if</span> (cu &lt; 0x80)
<a name="l04899"></a>04899                         {
<a name="l04900"></a>04900                                 cp = (utf32)(cu);
<a name="l04901"></a>04901                         }
<a name="l04902"></a>04902                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cu &lt; 0xE0)
<a name="l04903"></a>04903                         {
<a name="l04904"></a>04904                                 cp = ((cu &amp; 0x1F) &lt;&lt; 6);
<a name="l04905"></a>04905                                 cp |= (src[idx++] &amp; 0x3F);
<a name="l04906"></a>04906                         }
<a name="l04907"></a>04907                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cu &lt; 0xF0)
<a name="l04908"></a>04908                         {
<a name="l04909"></a>04909                                 cp = ((cu &amp; 0x0F) &lt;&lt; 12);
<a name="l04910"></a>04910                                 cp |= ((src[idx++] &amp; 0x3F) &lt;&lt; 6);
<a name="l04911"></a>04911                                 cp |= (src[idx++] &amp; 0x3F);
<a name="l04912"></a>04912                         }
<a name="l04913"></a>04913                         <span class="keywordflow">else</span>
<a name="l04914"></a>04914                         {
<a name="l04915"></a>04915                                 cp = ((cu &amp; 0x07) &lt;&lt; 18);
<a name="l04916"></a>04916                                 cp |= ((src[idx++] &amp; 0x3F) &lt;&lt; 12);
<a name="l04917"></a>04917                                 cp |= ((src[idx++] &amp; 0x3F) &lt;&lt; 6);
<a name="l04918"></a>04918                                 cp |= (src[idx++] &amp; 0x3F);
<a name="l04919"></a>04919                         }
<a name="l04920"></a>04920 
<a name="l04921"></a>04921                         *dest++ = cp;
<a name="l04922"></a>04922                         --destCapacity;
<a name="l04923"></a>04923                 }
<a name="l04924"></a>04924 
<a name="l04925"></a>04925                 <span class="keywordflow">return</span> dest_len - destCapacity;
<a name="l04926"></a>04926         }
<a name="l04927"></a>04927 
<a name="l04928"></a>04928         <span class="comment">// return the number of utf8 code units required to encode the given utf32 code point</span>
<a name="l04929"></a>04929         size_type encoded_size(utf32 code_point)<span class="keyword"> const</span>
<a name="l04930"></a>04930 <span class="keyword">        </span>{
<a name="l04931"></a>04931                 <span class="keywordflow">if</span> (code_point &lt; 0x80)
<a name="l04932"></a>04932                         <span class="keywordflow">return</span> 1;
<a name="l04933"></a>04933                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (code_point &lt; 0x0800)
<a name="l04934"></a>04934                         <span class="keywordflow">return</span> 2;
<a name="l04935"></a>04935                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (code_point &lt; 0x10000)
<a name="l04936"></a>04936                         <span class="keywordflow">return</span> 3;
<a name="l04937"></a>04937                 <span class="keywordflow">else</span>
<a name="l04938"></a>04938                         <span class="keywordflow">return</span> 4;
<a name="l04939"></a>04939         }
<a name="l04940"></a>04940 
<a name="l04941"></a>04941         <span class="comment">// return number of code units required to re-encode given null-terminated utf32 data as utf8.  return does not include terminating null.</span>
<a name="l04942"></a>04942         size_type encoded_size(<span class="keyword">const</span> utf32* buf)<span class="keyword"> const</span>
<a name="l04943"></a>04943 <span class="keyword">        </span>{
<a name="l04944"></a>04944                 <span class="keywordflow">return</span> encoded_size(buf, utf_length(buf));
<a name="l04945"></a>04945         }
<a name="l04946"></a>04946 
<a name="l04947"></a>04947         <span class="comment">// return number of code units required to re-encode given utf32 data as utf8.   len is number of code units in 'buf'.</span>
<a name="l04948"></a>04948         size_type encoded_size(<span class="keyword">const</span> utf32* buf, size_type len)<span class="keyword"> const</span>
<a name="l04949"></a>04949 <span class="keyword">        </span>{
<a name="l04950"></a>04950                 size_type count = 0;
<a name="l04951"></a>04951 
<a name="l04952"></a>04952                 <span class="keywordflow">while</span> (len--)
<a name="l04953"></a>04953                 {
<a name="l04954"></a>04954                         count += encoded_size(*buf++);
<a name="l04955"></a>04955                 }
<a name="l04956"></a>04956 
<a name="l04957"></a>04957                 <span class="keywordflow">return</span> count;
<a name="l04958"></a>04958         }
<a name="l04959"></a>04959 
<a name="l04960"></a>04960         <span class="comment">// return number of utf32 code units required to re-encode given utf8 data as utf32.  return does not include terminating null.</span>
<a name="l04961"></a>04961         size_type encoded_size(<span class="keyword">const</span> utf8* buf)<span class="keyword"> const</span>
<a name="l04962"></a>04962 <span class="keyword">        </span>{
<a name="l04963"></a>04963                 <span class="keywordflow">return</span> encoded_size(buf, utf_length(buf));
<a name="l04964"></a>04964         }
<a name="l04965"></a>04965 
<a name="l04966"></a>04966         <span class="comment">// return number of utf32 code units required to re-encode given utf8 data as utf32.  len is number of code units in 'buf'.</span>
<a name="l04967"></a>04967         size_type encoded_size(<span class="keyword">const</span> utf8* buf, size_type len)<span class="keyword"> const</span>
<a name="l04968"></a>04968 <span class="keyword">        </span>{
<a name="l04969"></a>04969                 utf8 tcp;
<a name="l04970"></a>04970                 size_type count = 0;
<a name="l04971"></a>04971 
<a name="l04972"></a>04972                 <span class="keywordflow">while</span> (len--)
<a name="l04973"></a>04973                 {
<a name="l04974"></a>04974                         tcp = *buf++;
<a name="l04975"></a>04975                         ++count;
<a name="l04976"></a>04976 
<a name="l04977"></a>04977                         <span class="keywordflow">if</span> (tcp &lt; 0x80)
<a name="l04978"></a>04978                         {
<a name="l04979"></a>04979                         }
<a name="l04980"></a>04980                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tcp &lt; 0xE0)
<a name="l04981"></a>04981                         {
<a name="l04982"></a>04982                                 --len;
<a name="l04983"></a>04983                                 ++buf;
<a name="l04984"></a>04984                         }
<a name="l04985"></a>04985                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tcp &lt; 0xF0)
<a name="l04986"></a>04986                         {
<a name="l04987"></a>04987                                 len -= 2;
<a name="l04988"></a>04988                                 buf += 2;
<a name="l04989"></a>04989                         }
<a name="l04990"></a>04990                         <span class="keywordflow">else</span>
<a name="l04991"></a>04991                         {
<a name="l04992"></a>04992                                 len -= 2;
<a name="l04993"></a>04993                                 buf += 3;
<a name="l04994"></a>04994                         }
<a name="l04995"></a>04995 
<a name="l04996"></a>04996                 }
<a name="l04997"></a>04997 
<a name="l04998"></a>04998                 <span class="keywordflow">return</span> count;
<a name="l04999"></a>04999         }
<a name="l05000"></a>05000 
<a name="l05001"></a>05001         <span class="comment">// return number of code units in a null terminated string</span>
<a name="l05002"></a>05002         size_type utf_length(<span class="keyword">const</span> utf8* utf8_str)<span class="keyword"> const</span>
<a name="l05003"></a>05003 <span class="keyword">        </span>{
<a name="l05004"></a>05004                 size_type cnt = 0;
<a name="l05005"></a>05005                 <span class="keywordflow">while</span> (*utf8_str++)
<a name="l05006"></a>05006                         cnt++;
<a name="l05007"></a>05007 
<a name="l05008"></a>05008                 <span class="keywordflow">return</span> cnt;
<a name="l05009"></a>05009         }
<a name="l05010"></a>05010 
<a name="l05011"></a>05011         <span class="comment">// return number of code units in a null terminated string</span>
<a name="l05012"></a>05012         size_type utf_length(<span class="keyword">const</span> utf32* utf32_str)<span class="keyword"> const</span>
<a name="l05013"></a>05013 <span class="keyword">        </span>{
<a name="l05014"></a>05014                 size_type cnt = 0;
<a name="l05015"></a>05015                 <span class="keywordflow">while</span> (*utf32_str++)
<a name="l05016"></a>05016                         cnt++;
<a name="l05017"></a>05017 
<a name="l05018"></a>05018                 <span class="keywordflow">return</span> cnt;
<a name="l05019"></a>05019         }
<a name="l05020"></a>05020 
<a name="l05021"></a>05021         <span class="comment">// build an internal buffer with the string encoded as utf8 (remains valid until string is modified).</span>
<a name="l05022"></a>05022     utf8* build_utf8_buff(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l05023"></a>05023 
<a name="l05024"></a>05024         <span class="comment">// compare two utf32 buffers</span>
<a name="l05025"></a>05025         <span class="keywordtype">int</span>     utf32_comp_utf32(<span class="keyword">const</span> utf32* buf1, <span class="keyword">const</span> utf32* buf2, size_type cp_count)<span class="keyword"> const</span>
<a name="l05026"></a>05026 <span class="keyword">        </span>{
<a name="l05027"></a>05027                 <span class="keywordflow">if</span> (!cp_count)
<a name="l05028"></a>05028                         <span class="keywordflow">return</span> 0;
<a name="l05029"></a>05029 
<a name="l05030"></a>05030                 <span class="keywordflow">while</span> ((--cp_count) &amp;&amp; (*buf1 == *buf2))
<a name="l05031"></a>05031                         buf1++, buf2++;
<a name="l05032"></a>05032 
<a name="l05033"></a>05033                 <span class="keywordflow">return</span> *buf1 - *buf2;
<a name="l05034"></a>05034         }
<a name="l05035"></a>05035 
<a name="l05036"></a>05036         <span class="comment">// compare utf32 buffer with char buffer (chars are taken to be code-points in the range 0x00-0xFF)</span>
<a name="l05037"></a>05037         <span class="keywordtype">int</span> utf32_comp_char(<span class="keyword">const</span> utf32* buf1, <span class="keyword">const</span> <span class="keywordtype">char</span>* buf2, size_type cp_count)<span class="keyword"> const</span>
<a name="l05038"></a>05038 <span class="keyword">        </span>{
<a name="l05039"></a>05039                 <span class="keywordflow">if</span> (!cp_count)
<a name="l05040"></a>05040                         <span class="keywordflow">return</span> 0;
<a name="l05041"></a>05041 
<a name="l05042"></a>05042                 <span class="keywordflow">while</span> ((--cp_count) &amp;&amp; (*buf1 == static_cast&lt;utf32&gt;(static_cast&lt;unsigned char&gt;(*buf2))))
<a name="l05043"></a>05043                         buf1++, buf2++;
<a name="l05044"></a>05044 
<a name="l05045"></a>05045                 <span class="keywordflow">return</span> *buf1 - <span class="keyword">static_cast&lt;</span>utf32<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(*buf2));
<a name="l05046"></a>05046         }
<a name="l05047"></a>05047 
<a name="l05048"></a>05048         <span class="comment">// compare utf32 buffer with encoded utf8 data</span>
<a name="l05049"></a>05049         <span class="keywordtype">int</span> utf32_comp_utf8(<span class="keyword">const</span> utf32* buf1, <span class="keyword">const</span> utf8* buf2, size_type cp_count)<span class="keyword"> const</span>
<a name="l05050"></a>05050 <span class="keyword">        </span>{
<a name="l05051"></a>05051                 <span class="keywordflow">if</span> (!cp_count)
<a name="l05052"></a>05052                         <span class="keywordflow">return</span> 0;
<a name="l05053"></a>05053 
<a name="l05054"></a>05054                 utf32   cp;
<a name="l05055"></a>05055                 utf8    cu;
<a name="l05056"></a>05056 
<a name="l05057"></a>05057                 <span class="keywordflow">do</span>
<a name="l05058"></a>05058                 {
<a name="l05059"></a>05059                         cu = *buf2++;
<a name="l05060"></a>05060 
<a name="l05061"></a>05061                         <span class="keywordflow">if</span> (cu &lt; 0x80)
<a name="l05062"></a>05062                         {
<a name="l05063"></a>05063                                 cp = (utf32)(cu);
<a name="l05064"></a>05064                         }
<a name="l05065"></a>05065                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cu &lt; 0xE0)
<a name="l05066"></a>05066                         {
<a name="l05067"></a>05067                                 cp = ((cu &amp; 0x1F) &lt;&lt; 6);
<a name="l05068"></a>05068                                 cp |= (*buf2++ &amp; 0x3F);
<a name="l05069"></a>05069                         }
<a name="l05070"></a>05070                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cu &lt; 0xF0)
<a name="l05071"></a>05071                         {
<a name="l05072"></a>05072                                 cp = ((cu &amp; 0x0F) &lt;&lt; 12);
<a name="l05073"></a>05073                                 cp |= ((*buf2++ &amp; 0x3F) &lt;&lt; 6);
<a name="l05074"></a>05074                                 cp |= (*buf2++ &amp; 0x3F);
<a name="l05075"></a>05075                         }
<a name="l05076"></a>05076                         <span class="keywordflow">else</span>
<a name="l05077"></a>05077                         {
<a name="l05078"></a>05078                                 cp = ((cu &amp; 0x07) &lt;&lt; 18);
<a name="l05079"></a>05079                                 cp |= ((*buf2++ &amp; 0x3F) &lt;&lt; 12);
<a name="l05080"></a>05080                                 cp |= ((*buf2++ &amp; 0x3F) &lt;&lt; 6);
<a name="l05081"></a>05081                                 cp |= (*buf2++ &amp; 0x3F);
<a name="l05082"></a>05082                         }
<a name="l05083"></a>05083 
<a name="l05084"></a>05084                 } <span class="keywordflow">while</span> ((*buf1++ == cp) &amp;&amp; (--cp_count));
<a name="l05085"></a>05085 
<a name="l05086"></a>05086                 <span class="keywordflow">return</span> (*--buf1) - cp;
<a name="l05087"></a>05087         }
<a name="l05088"></a>05088 
<a name="l05089"></a>05089         <span class="comment">// return index of first occurrence of 'code_point' in std::string 'str', or npos if none</span>
<a name="l05090"></a>05090         size_type find_codepoint(<span class="keyword">const</span> std::string&amp; str, utf32 code_point)<span class="keyword"> const</span>
<a name="l05091"></a>05091 <span class="keyword">        </span>{
<a name="l05092"></a>05092                 size_type idx = 0, sze = (size_type)str.size();
<a name="l05093"></a>05093 
<a name="l05094"></a>05094                 <span class="keywordflow">while</span> (idx != sze)
<a name="l05095"></a>05095                 {
<a name="l05096"></a>05096                         <span class="keywordflow">if</span> (code_point == static_cast&lt;utf32&gt;(static_cast&lt;unsigned char&gt;(str[idx])))
<a name="l05097"></a>05097                                 <span class="keywordflow">return</span> idx;
<a name="l05098"></a>05098 
<a name="l05099"></a>05099                         ++idx;
<a name="l05100"></a>05100                 }
<a name="l05101"></a>05101 
<a name="l05102"></a>05102                 <span class="keywordflow">return</span> npos;
<a name="l05103"></a>05103         }
<a name="l05104"></a>05104 
<a name="l05105"></a>05105         <span class="comment">// return index of first occurrence of 'code_point' in utf8 encoded string 'str', or npos if none.  len is in code points.</span>
<a name="l05106"></a>05106         size_type find_codepoint(<span class="keyword">const</span> utf8* str, size_type len, utf32 code_point)<span class="keyword"> const</span>
<a name="l05107"></a>05107 <span class="keyword">        </span>{
<a name="l05108"></a>05108                 size_type idx = 0;
<a name="l05109"></a>05109 
<a name="l05110"></a>05110                 utf32   cp;
<a name="l05111"></a>05111                 utf8    cu;
<a name="l05112"></a>05112 
<a name="l05113"></a>05113                 <span class="keywordflow">while</span> (idx != len) {
<a name="l05114"></a>05114                         cu = *str++;
<a name="l05115"></a>05115 
<a name="l05116"></a>05116                         <span class="keywordflow">if</span> (cu &lt; 0x80)
<a name="l05117"></a>05117                         {
<a name="l05118"></a>05118                                 cp = (utf32)(cu);
<a name="l05119"></a>05119                         }
<a name="l05120"></a>05120                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cu &lt; 0xE0)
<a name="l05121"></a>05121                         {
<a name="l05122"></a>05122                                 cp = ((cu &amp; 0x1F) &lt;&lt; 6);
<a name="l05123"></a>05123                                 cp |= (*str++ &amp; 0x3F);
<a name="l05124"></a>05124                         }
<a name="l05125"></a>05125                         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cu &lt; 0xF0)
<a name="l05126"></a>05126                         {
<a name="l05127"></a>05127                                 cp = ((cu &amp; 0x0F) &lt;&lt; 12);
<a name="l05128"></a>05128                                 cp |= ((*str++ &amp; 0x3F) &lt;&lt; 6);
<a name="l05129"></a>05129                                 cp |= (*str++ &amp; 0x3F);
<a name="l05130"></a>05130                         }
<a name="l05131"></a>05131                         <span class="keywordflow">else</span>
<a name="l05132"></a>05132                         {
<a name="l05133"></a>05133                                 cp = ((cu &amp; 0x07) &lt;&lt; 18);
<a name="l05134"></a>05134                                 cp |= ((*str++ &amp; 0x3F) &lt;&lt; 12);
<a name="l05135"></a>05135                                 cp |= ((*str++ &amp; 0x3F) &lt;&lt; 6);
<a name="l05136"></a>05136                                 cp |= (*str++ &amp; 0x3F);
<a name="l05137"></a>05137                         }
<a name="l05138"></a>05138 
<a name="l05139"></a>05139                         <span class="keywordflow">if</span> (code_point == cp)
<a name="l05140"></a>05140                                 <span class="keywordflow">return</span> idx;
<a name="l05141"></a>05141 
<a name="l05142"></a>05142                         ++idx;
<a name="l05143"></a>05143                 }
<a name="l05144"></a>05144 
<a name="l05145"></a>05145                 <span class="keywordflow">return</span> npos;
<a name="l05146"></a>05146         }
<a name="l05147"></a>05147 
<a name="l05148"></a>05148 
<a name="l05149"></a>05149         <span class="comment">// return index of first occurrence of 'code_point' in char array 'chars', or npos if none</span>
<a name="l05150"></a>05150         size_type find_codepoint(<span class="keyword">const</span> <span class="keywordtype">char</span>* chars, size_type chars_len, utf32 code_point)<span class="keyword"> const</span>
<a name="l05151"></a>05151 <span class="keyword">        </span>{
<a name="l05152"></a>05152                 <span class="keywordflow">for</span> (size_type idx = 0; idx != chars_len; ++idx)
<a name="l05153"></a>05153                 {
<a name="l05154"></a>05154                         <span class="keywordflow">if</span> (code_point == static_cast&lt;utf32&gt;(static_cast&lt;unsigned char&gt;(chars[idx])))
<a name="l05155"></a>05155                                 <span class="keywordflow">return</span> idx;
<a name="l05156"></a>05156                 }
<a name="l05157"></a>05157 
<a name="l05158"></a>05158                 <span class="keywordflow">return</span> npos;
<a name="l05159"></a>05159         }
<a name="l05160"></a>05160 
<a name="l05161"></a>05161 };
<a name="l05162"></a>05162 
<a name="l05163"></a>05163 
<a name="l05165"></a>05165 <span class="comment">// Comparison operators</span>
<a name="l05167"></a>05167 <span class="comment"></span>
<a name="l05171"></a>05171 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#259bd3158899725928832c2ac2e6ad5b" title="Return true if String str1 is equal to String str2.">operator==</a>(<span class="keyword">const</span> String&amp; str1, <span class="keyword">const</span> String&amp; str2);
<a name="l05172"></a>05172 
<a name="l05177"></a>05177 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#259bd3158899725928832c2ac2e6ad5b" title="Return true if String str1 is equal to String str2.">operator==</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> std::string&amp; std_str);
<a name="l05178"></a>05178 
<a name="l05183"></a>05183 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#259bd3158899725928832c2ac2e6ad5b" title="Return true if String str1 is equal to String str2.">operator==</a>(<span class="keyword">const</span> std::string&amp; std_str, <span class="keyword">const</span> String&amp; str);
<a name="l05184"></a>05184 
<a name="l05189"></a>05189 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#259bd3158899725928832c2ac2e6ad5b" title="Return true if String str1 is equal to String str2.">operator==</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> utf8* utf8_str);
<a name="l05190"></a>05190 
<a name="l05195"></a>05195 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#259bd3158899725928832c2ac2e6ad5b" title="Return true if String str1 is equal to String str2.">operator==</a>(<span class="keyword">const</span> utf8* utf8_str, <span class="keyword">const</span> String&amp; str);
<a name="l05196"></a>05196 
<a name="l05201"></a>05201 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#0b5613ffc8a911c27cfb78df377b6fbb" title="Return true if String str1 is not equal to String str2.">operator!=</a>(<span class="keyword">const</span> String&amp; str1, <span class="keyword">const</span> String&amp; str2);
<a name="l05202"></a>05202 
<a name="l05207"></a>05207 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#0b5613ffc8a911c27cfb78df377b6fbb" title="Return true if String str1 is not equal to String str2.">operator!=</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> std::string&amp; std_str);
<a name="l05208"></a>05208 
<a name="l05213"></a>05213 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#0b5613ffc8a911c27cfb78df377b6fbb" title="Return true if String str1 is not equal to String str2.">operator!=</a>(<span class="keyword">const</span> std::string&amp; std_str, <span class="keyword">const</span> String&amp; str);
<a name="l05214"></a>05214 
<a name="l05219"></a>05219 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#0b5613ffc8a911c27cfb78df377b6fbb" title="Return true if String str1 is not equal to String str2.">operator!=</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> utf8* utf8_str);
<a name="l05220"></a>05220 
<a name="l05225"></a>05225 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#0b5613ffc8a911c27cfb78df377b6fbb" title="Return true if String str1 is not equal to String str2.">operator!=</a>(<span class="keyword">const</span> utf8* utf8_str, <span class="keyword">const</span> String&amp; str);
<a name="l05226"></a>05226 
<a name="l05231"></a>05231 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#770b5e27a384122e05d0d1e75afef26e" title="Return true if String str1 is lexicographically less than String str2.">operator&lt;</a>(<span class="keyword">const</span> String&amp; str1, <span class="keyword">const</span> String&amp; str2);
<a name="l05232"></a>05232 
<a name="l05237"></a>05237 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#770b5e27a384122e05d0d1e75afef26e" title="Return true if String str1 is lexicographically less than String str2.">operator&lt;</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> std::string&amp; std_str);
<a name="l05238"></a>05238 
<a name="l05243"></a>05243 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#770b5e27a384122e05d0d1e75afef26e" title="Return true if String str1 is lexicographically less than String str2.">operator&lt;</a>(<span class="keyword">const</span> std::string&amp; std_str, <span class="keyword">const</span> String&amp; str);
<a name="l05244"></a>05244 
<a name="l05249"></a>05249 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#770b5e27a384122e05d0d1e75afef26e" title="Return true if String str1 is lexicographically less than String str2.">operator&lt;</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> utf8* utf8_str);
<a name="l05250"></a>05250 
<a name="l05255"></a>05255 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#770b5e27a384122e05d0d1e75afef26e" title="Return true if String str1 is lexicographically less than String str2.">operator&lt;</a>(<span class="keyword">const</span> utf8* utf8_str, <span class="keyword">const</span> String&amp; str);
<a name="l05256"></a>05256 
<a name="l05261"></a>05261 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#7501a7f6c1fab8806a0ff65ee1b4fa7d" title="Return true if String str1 is lexicographically greater than String str2.">operator&gt;</a>(<span class="keyword">const</span> String&amp; str1, <span class="keyword">const</span> String&amp; str2);
<a name="l05262"></a>05262 
<a name="l05267"></a>05267 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#7501a7f6c1fab8806a0ff65ee1b4fa7d" title="Return true if String str1 is lexicographically greater than String str2.">operator&gt;</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> std::string&amp; std_str);
<a name="l05268"></a>05268 
<a name="l05273"></a>05273 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#7501a7f6c1fab8806a0ff65ee1b4fa7d" title="Return true if String str1 is lexicographically greater than String str2.">operator&gt;</a>(<span class="keyword">const</span> std::string&amp; std_str, <span class="keyword">const</span> String&amp; str);
<a name="l05274"></a>05274 
<a name="l05279"></a>05279 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#7501a7f6c1fab8806a0ff65ee1b4fa7d" title="Return true if String str1 is lexicographically greater than String str2.">operator&gt;</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> utf8* utf8_str);
<a name="l05280"></a>05280 
<a name="l05285"></a>05285 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#7501a7f6c1fab8806a0ff65ee1b4fa7d" title="Return true if String str1 is lexicographically greater than String str2.">operator&gt;</a>(<span class="keyword">const</span> utf8* utf8_str, <span class="keyword">const</span> String&amp; str);
<a name="l05286"></a>05286 
<a name="l05291"></a>05291 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#2dc0aa5badfd7b9a32885652c6ffd396" title="Return true if String str1 is lexicographically less than or equal to String str2...">operator&lt;=</a>(<span class="keyword">const</span> String&amp; str1, <span class="keyword">const</span> String&amp; str2);
<a name="l05292"></a>05292 
<a name="l05297"></a>05297 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#2dc0aa5badfd7b9a32885652c6ffd396" title="Return true if String str1 is lexicographically less than or equal to String str2...">operator&lt;=</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> std::string&amp; std_str);
<a name="l05298"></a>05298 
<a name="l05303"></a>05303 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#2dc0aa5badfd7b9a32885652c6ffd396" title="Return true if String str1 is lexicographically less than or equal to String str2...">operator&lt;=</a>(<span class="keyword">const</span> std::string&amp; std_str, <span class="keyword">const</span> String&amp; str);
<a name="l05304"></a>05304 
<a name="l05309"></a>05309 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#2dc0aa5badfd7b9a32885652c6ffd396" title="Return true if String str1 is lexicographically less than or equal to String str2...">operator&lt;=</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> utf8* utf8_str);
<a name="l05310"></a>05310 
<a name="l05315"></a>05315 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#2dc0aa5badfd7b9a32885652c6ffd396" title="Return true if String str1 is lexicographically less than or equal to String str2...">operator&lt;=</a>(<span class="keyword">const</span> utf8* utf8_str, <span class="keyword">const</span> String&amp; str);
<a name="l05316"></a>05316 
<a name="l05321"></a>05321 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#6ca1f0dedc55b468cc369297b03d435e" title="Return true if String str1 is lexicographically greater than or equal to String str2...">operator&gt;=</a>(<span class="keyword">const</span> String&amp; str1, <span class="keyword">const</span> String&amp; str2);
<a name="l05322"></a>05322 
<a name="l05327"></a>05327 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#6ca1f0dedc55b468cc369297b03d435e" title="Return true if String str1 is lexicographically greater than or equal to String str2...">operator&gt;=</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> std::string&amp; std_str);
<a name="l05328"></a>05328 
<a name="l05333"></a>05333 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#6ca1f0dedc55b468cc369297b03d435e" title="Return true if String str1 is lexicographically greater than or equal to String str2...">operator&gt;=</a>(<span class="keyword">const</span> std::string&amp; std_str, <span class="keyword">const</span> String&amp; str);
<a name="l05334"></a>05334 
<a name="l05339"></a>05339 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#6ca1f0dedc55b468cc369297b03d435e" title="Return true if String str1 is lexicographically greater than or equal to String str2...">operator&gt;=</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> utf8* utf8_str);
<a name="l05340"></a>05340 
<a name="l05345"></a>05345 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#6ca1f0dedc55b468cc369297b03d435e" title="Return true if String str1 is lexicographically greater than or equal to String str2...">operator&gt;=</a>(<span class="keyword">const</span> utf8* utf8_str, <span class="keyword">const</span> String&amp; str);
<a name="l05346"></a>05346 
<a name="l05351"></a>05351 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#259bd3158899725928832c2ac2e6ad5b" title="Return true if String str1 is equal to String str2.">operator==</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* c_str);
<a name="l05352"></a>05352 
<a name="l05357"></a>05357 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#259bd3158899725928832c2ac2e6ad5b" title="Return true if String str1 is equal to String str2.">operator==</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* c_str, <span class="keyword">const</span> String&amp; str);
<a name="l05358"></a>05358 
<a name="l05363"></a>05363 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#0b5613ffc8a911c27cfb78df377b6fbb" title="Return true if String str1 is not equal to String str2.">operator!=</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* c_str);
<a name="l05364"></a>05364 
<a name="l05369"></a>05369 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#0b5613ffc8a911c27cfb78df377b6fbb" title="Return true if String str1 is not equal to String str2.">operator!=</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* c_str, <span class="keyword">const</span> String&amp; str);
<a name="l05370"></a>05370 
<a name="l05375"></a>05375 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#770b5e27a384122e05d0d1e75afef26e" title="Return true if String str1 is lexicographically less than String str2.">operator&lt;</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* c_str);
<a name="l05376"></a>05376 
<a name="l05381"></a>05381 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#770b5e27a384122e05d0d1e75afef26e" title="Return true if String str1 is lexicographically less than String str2.">operator&lt;</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* c_str, <span class="keyword">const</span> String&amp; str);
<a name="l05382"></a>05382 
<a name="l05387"></a>05387 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#7501a7f6c1fab8806a0ff65ee1b4fa7d" title="Return true if String str1 is lexicographically greater than String str2.">operator&gt;</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* c_str);
<a name="l05388"></a>05388 
<a name="l05393"></a>05393 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#7501a7f6c1fab8806a0ff65ee1b4fa7d" title="Return true if String str1 is lexicographically greater than String str2.">operator&gt;</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* c_str, <span class="keyword">const</span> String&amp; str);
<a name="l05394"></a>05394 
<a name="l05399"></a>05399 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#2dc0aa5badfd7b9a32885652c6ffd396" title="Return true if String str1 is lexicographically less than or equal to String str2...">operator&lt;=</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* c_str);
<a name="l05400"></a>05400 
<a name="l05405"></a>05405 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#2dc0aa5badfd7b9a32885652c6ffd396" title="Return true if String str1 is lexicographically less than or equal to String str2...">operator&lt;=</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* c_str, <span class="keyword">const</span> String&amp; str);
<a name="l05406"></a>05406 
<a name="l05411"></a>05411 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#6ca1f0dedc55b468cc369297b03d435e" title="Return true if String str1 is lexicographically greater than or equal to String str2...">operator&gt;=</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* c_str);
<a name="l05412"></a>05412 
<a name="l05417"></a>05417 <span class="keywordtype">bool</span> CEGUIEXPORT        <a class="code" href="namespaceCEGUI.html#6ca1f0dedc55b468cc369297b03d435e" title="Return true if String str1 is lexicographically greater than or equal to String str2...">operator&gt;=</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* c_str, <span class="keyword">const</span> String&amp; str);
<a name="l05418"></a>05418 
<a name="l05420"></a>05420 <span class="comment">// Concatenation operator functions</span>
<a name="l05422"></a>05422 <span class="comment"></span>
<a name="l05437"></a>05437 String CEGUIEXPORT      <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(<span class="keyword">const</span> String&amp; str1, <span class="keyword">const</span> String&amp; str2);
<a name="l05438"></a>05438 
<a name="l05454"></a>05454 String CEGUIEXPORT      <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> std::string&amp; std_str);
<a name="l05455"></a>05455 
<a name="l05471"></a>05471 String CEGUIEXPORT      <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(<span class="keyword">const</span> std::string&amp; std_str, <span class="keyword">const</span> String&amp; str);
<a name="l05472"></a>05472 
<a name="l05488"></a>05488 String CEGUIEXPORT      <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> utf8* utf8_str);
<a name="l05489"></a>05489 
<a name="l05505"></a>05505 String CEGUIEXPORT      <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(<span class="keyword">const</span> utf8* utf8_str, <span class="keyword">const</span> String&amp; str);
<a name="l05506"></a>05506 
<a name="l05522"></a>05522 String CEGUIEXPORT      <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(<span class="keyword">const</span> String&amp; str, utf32 code_point);
<a name="l05523"></a>05523 
<a name="l05539"></a>05539 String CEGUIEXPORT      <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(utf32 code_point, <span class="keyword">const</span> String&amp; str);
<a name="l05540"></a>05540 
<a name="l05556"></a>05556 String CEGUIEXPORT      <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(<span class="keyword">const</span> String&amp; str, <span class="keyword">const</span> <span class="keywordtype">char</span>* c_str);
<a name="l05557"></a>05557 
<a name="l05573"></a>05573 String CEGUIEXPORT      <a class="code" href="namespaceCEGUI.html#d5a787dd5e8033738690fb06c76ca5bb" title="Return String object that is the concatenation of the given inputs.">operator+</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* c_str, <span class="keyword">const</span> String&amp; str);
<a name="l05574"></a>05574 
<a name="l05575"></a>05575 
<a name="l05577"></a>05577 <span class="comment">// Output (stream) functions</span>
<a name="l05579"></a>05579 <span class="comment"></span>CEGUIEXPORT std::ostream&amp; operator&lt;&lt;(std::ostream&amp; s, <span class="keyword">const</span> String&amp; str);
<a name="l05580"></a>05580 
<a name="l05581"></a>05581 
<a name="l05583"></a>05583 <span class="comment">// Modifying operations</span>
<a name="l05585"></a>05585 <span class="comment"></span>
<a name="l05598"></a>05598 <span class="keywordtype">void</span> CEGUIEXPORT <a class="code" href="namespaceCEGUI.html#8f83fb9c1a5679b5d5ad27e6c2e1d2d8" title="Swap the contents for two String objects.">swap</a>(String&amp; str1, String&amp; str2);
<a name="l05599"></a>05599 
<a name="l05600"></a>05600 
<a name="l05601"></a>05601 } <span class="comment">// End of  CEGUI namespace section</span>
<a name="l05602"></a>05602 
<a name="l05603"></a>05603 
<a name="l05604"></a>05604 <span class="preprocessor">#endif  // end of guard _CEGUIString_h_</span>
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Sun Mar 16 14:44:32 2008 for Crazy Eddies GUI System by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
